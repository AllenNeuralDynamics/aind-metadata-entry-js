{
   "title": "Acquisition",
   "description": "Description of an imaging acquisition session",
   "type": "object",
   "properties": {
      "describedBy": {
         "title": "Describedby",
         "default": "https://raw.githubusercontent.com/AllenNeuralDynamics/aind-data-schema/main/src/aind_data_schema/imaging/acquisition.py",
         "const": "https://raw.githubusercontent.com/AllenNeuralDynamics/aind-data-schema/main/src/aind_data_schema/imaging/acquisition.py",
         "type": "string"
      },
      "version": {
         "title": "Version",
         "description": "schema version",
         "default": "0.3.0",
         "const": "0.3.0",
         "type": "string"
      },
      "experimenter_full_name": {
         "title": "Experimenter full name",
         "description": "First and last name of the experimenter.",
         "type": "string"
      },
      "session_start_time": {
         "title": "Session start time",
         "type": "string",
         "format": "date-time"
      },
      "subject_id": {
         "title": "Subject ID",
         "type": "integer"
      },
      "instrument_id": {
         "title": "Instrument ID",
         "type": "string"
      },
      "session_end_time": {
         "title": "Session end time",
         "type": "string",
         "format": "date-time"
      },
      "local_storage_directory": {
         "title": "Local storage directory",
         "type": "string"
      },
      "external_storage_directory": {
         "title": "External storage directory",
         "type": "string"
      },
      "tile_prefix": {
         "title": "Tile prefix",
         "description": "Zstacks will be named: <tile_prefix>_<x>_<y>_<wavelength>.tiff",
         "type": "string"
      },
      "tile_overlap_x": {
         "title": "Tile overlap x (percent)",
         "minimum": 0,
         "maximum": 100,
         "type": "number"
      },
      "tile_overlap_y": {
         "title": "Tile overlap y (percent)",
         "minimum": 0,
         "maximum": 100,
         "type": "number"
      },
      "step_size_z": {
         "title": "Step size z (um)",
         "type": "number"
      },
      "axes": {
         "title": "Axes",
         "uniqueItems": true,
         "type": "array",
         "items": {
            "$ref": "#/definitions/Axis"
         }
      },
      "additional_parameters": {
         "title": "Additional parameters",
         "type": "string"
      },
      "positions": {
         "title": "Positions",
         "uniqueItems": true,
         "type": "array",
         "items": {
            "$ref": "#/definitions/Position"
         }
      },
      "channels": {
         "title": "Channels",
         "uniqueItems": true,
         "type": "array",
         "items": {
            "$ref": "#/definitions/Channel"
         }
      },
      "daqs": {
         "title": "DAQ",
         "uniqueItems": true,
         "type": "array",
         "items": {
            "type": "object"
         }
      },
      "notes": {
         "title": "Notes",
         "type": "string"
      }
   },
   "required": [
      "experimenter_full_name",
      "session_start_time",
      "subject_id",
      "instrument_id",
      "session_end_time",
      "positions",
      "channels"
   ],
   "additionalProperties": false,
   "definitions": {
      "AxisName": {
         "title": "AxisName",
         "description": "Image axis name",
         "enum": [
            "X",
            "Y",
            "Z"
         ]
      },
      "Direction": {
         "title": "Direction",
         "description": "Anatomical direction name",
         "enum": [
            "Left_to_right",
            "Right_to_left",
            "Anterior_to_posterior",
            "Posterior_to_anterior",
            "Inferior_to_superior",
            "Superior_to_inferior",
            "Other"
         ]
      },
      "Axis": {
         "title": "Axis",
         "description": "Description of an image axis",
         "type": "object",
         "properties": {
            "name": {
               "title": "Name",
               "allOf": [
                  {
                     "$ref": "#/definitions/AxisName"
                  }
               ]
            },
            "dimension": {
               "title": "Dimension",
               "description": "Reference axis number for stitching",
               "type": "integer"
            },
            "direction": {
               "description": "Tissue direction as the value of axis increases. If Other describe in notes.",
               "allOf": [
                  {
                     "$ref": "#/definitions/Direction"
                  }
               ]
            },
            "voxel_size": {
               "title": "Voxel size (um)",
               "type": "number"
            },
            "volume_size": {
               "title": "Volume size (um)",
               "description": "Size of the volume for this dimension.",
               "type": "number"
            }
         },
         "required": [
            "name",
            "dimension",
            "direction",
            "voxel_size",
            "volume_size"
         ],
         "additionalProperties": false
      },
      "Position": {
         "title": "Position",
         "description": "Description of stage position",
         "type": "object",
         "properties": {
            "x_start_um": {
               "title": "X Start Um",
               "type": "number"
            },
            "x_end_um": {
               "title": "X End Um",
               "type": "number"
            },
            "x_step_um": {
               "title": "X Step Um",
               "type": "number"
            },
            "y_start_um": {
               "title": "Y Start Um",
               "type": "number"
            },
            "y_end_um": {
               "title": "Y End Um",
               "type": "number"
            },
            "y_step_um": {
               "title": "Y Step Um",
               "type": "number"
            },
            "z_start_um": {
               "title": "Z Start Um",
               "type": "number"
            },
            "z_end_um": {
               "title": "Z End Um",
               "type": "number"
            },
            "z_step_um": {
               "title": "Z Step Um",
               "type": "number"
            }
         },
         "required": [
            "x_start_um",
            "x_end_um",
            "x_step_um",
            "y_start_um",
            "y_end_um",
            "y_step_um",
            "z_start_um",
            "z_end_um",
            "z_step_um"
         ],
         "additionalProperties": false
      },
      "Channel": {
         "title": "Channel",
         "description": "Description of a channel",
         "type": "object",
         "properties": {
            "channel": {
               "title": "Channel",
               "type": "integer"
            },
            "enabled": {
               "title": "Enabled",
               "type": "boolean"
            },
            "laser_wavelength": {
               "title": "Wavelength (nm)",
               "minimum": 300,
               "maximum": 1000,
               "units": "nm",
               "type": "integer"
            },
            "laser_power": {
               "title": "Power (mW)",
               "maximum": 2000,
               "units": "mW",
               "type": "number"
            },
            "filter_wheel_index": {
               "title": "Filter wheel index",
               "type": "integer"
            }
         },
         "required": [
            "channel",
            "laser_wavelength",
            "laser_power",
            "filter_wheel_index"
         ],
         "additionalProperties": false
      }
   }
}