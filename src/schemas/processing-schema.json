{
    "title": "Processing",
    "description": "information about a sequence of processes run on input data",
    "type": "object",
    "properties": {
       "describedBy": {
          "title": "Described by",
          "description": "The URL reference to the schema.",
          "default": "https://github.com/AllenNeuralDynamics/data_schema/blob/main/schemas/processing.py",
          "const": "https://github.com/AllenNeuralDynamics/data_schema/blob/main/schemas/processing.py",
          "type": "string"
       },
       "schema_version": {
          "title": "Schema version",
          "description": "Schema version",
          "default": "0.0.1",
          "const": "0.0.1",
          "type": "string"
       },
       "pipeline_version": {
          "title": "Pipeline version",
          "description": "Version of the pipeline",
          "type": "string"
       },
       "pipeline_url": {
          "title": "Pipeline URL",
          "description": "URL to the pipeline code",
          "type": "string"
       },
       "data_processes": {
          "title": "Data processing",
          "uniqueItems": true,
          "type": "array",
          "items": {
             "$ref": "#/definitions/DataProcess"
          }
       }
    },
    "required": [
       "data_processes"
    ],
    "definitions": {
       "ProcessName": {
          "title": "ProcessName",
          "description": "list of processing labels",
          "enum": [
             "Ephys preprocessing",
             "Spike sorting",
             "Ephys postprocessing",
             "Image import",
             "Image align",
             "Merge volume",
             "OME zarr",
             "Pystripe",
             "Displthresh",
             "Other"
          ]
       },
       "DataProcess": {
          "title": "DataProcess",
          "description": "information about a single processing step",
          "type": "object",
          "properties": {
             "name": {
                "title": "Name",
                "allOf": [
                   {
                      "$ref": "#/definitions/ProcessName"
                   }
                ]
             },
             "version": {
                "title": "Version",
                "description": "Version of the software used",
                "type": "string"
             },
             "start_date_time": {
                "title": "Start date time",
                "type": "string",
                "format": "date-time"
             },
             "end_date_time": {
                "title": "End date time",
                "type": "string",
                "format": "date-time"
             },
             "input_location": {
                "title": "Input location",
                "description": "Path to data inputs",
                "type": "string"
             },
             "output_location": {
                "title": "Output location",
                "description": "Path to data outputs",
                "type": "string"
             },
             "code_url": {
                "title": "Code URL",
                "description": "Path to code respository",
                "type": "string"
             },
             "parameters": {
                "title": "Parameters",
                "type": "object"
             },
             "notes": {
                "title": "Notes",
                "type": "string"
             }
          },
          "required": [
             "name",
             "version",
             "start_date_time",
             "end_date_time",
             "input_location",
             "output_location",
             "code_url",
             "parameters"
          ]
       }
    }
 }
