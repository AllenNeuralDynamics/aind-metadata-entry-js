{"version":3,"file":"core.cjs.development.js","sources":["../src/components/IconButton.js","../src/components/AddButton.js","../src/types.js","../src/validate.js","../src/utils.js","../src/components/fields/ArrayField.js","../src/components/fields/BooleanField.js","../src/components/fields/DescriptionField.js","../src/components/fields/MultiSchemaField.js","../src/components/fields/NumberField.js","../src/components/fields/ObjectField.js","../src/components/fields/SchemaField.js","../src/components/fields/StringField.js","../src/components/fields/TitleField.js","../src/components/fields/NullField.js","../src/components/fields/UnsupportedField.js","../src/components/fields/index.js","../src/components/widgets/AltDateWidget.js","../src/components/widgets/AltDateTimeWidget.js","../src/components/widgets/BaseInput.js","../src/components/widgets/CheckboxWidget.js","../src/components/widgets/CheckboxesWidget.js","../src/components/widgets/ColorWidget.js","../src/components/widgets/DateWidget.js","../src/components/widgets/DateTimeWidget.js","../src/components/widgets/EmailWidget.js","../src/components/widgets/FileWidget.js","../src/components/widgets/HiddenWidget.js","../src/components/widgets/PasswordWidget.js","../src/components/widgets/RadioWidget.js","../src/components/widgets/RangeWidget.js","../src/components/widgets/SelectWidget.js","../src/components/widgets/TextareaWidget.js","../src/components/widgets/TextWidget.js","../src/components/widgets/URLWidget.js","../src/components/widgets/UpDownWidget.js","../src/components/widgets/SubmitButton.js","../src/components/widgets/index.js","../src/defaultRegistry.js","../src/components/ErrorList.js","../src/components/Form.js","../src/withTheme.js","../src/index.js"],"sourcesContent":["import React from \"react\";\n\nexport default function IconButton(props) {\n  const { type = \"default\", icon, className, ...otherProps } = props;\n  return (\n    <button\n      type=\"button\"\n      className={`btn btn-${type} ${className}`}\n      {...otherProps}>\n      <i className={`glyphicon glyphicon-${icon}`} />\n    </button>\n  );\n}\n","import React from \"react\";\nimport IconButton from \"./IconButton\";\n\nexport default function AddButton({ className, onClick, disabled }) {\n  return (\n    <div className=\"row\">\n      <p className={`col-xs-3 col-xs-offset-9 text-right ${className}`}>\n        <IconButton\n          type=\"info\"\n          icon=\"plus\"\n          className=\"btn-add col-xs-12\"\n          aria-label=\"Add\"\n          tabIndex=\"0\"\n          onClick={onClick}\n          disabled={disabled}\n        />\n      </p>\n    </div>\n  );\n}\n","import PropTypes from \"prop-types\";\n\nexport const registry = PropTypes.shape({\n  ArrayFieldTemplate: PropTypes.elementType,\n  FieldTemplate: PropTypes.elementType,\n  ObjectFieldTemplate: PropTypes.elementType,\n  definitions: PropTypes.object.isRequired,\n  rootSchema: PropTypes.object,\n  fields: PropTypes.objectOf(PropTypes.elementType).isRequired,\n  formContext: PropTypes.object.isRequired,\n  widgets: PropTypes.objectOf(\n    PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n  ).isRequired,\n});\n\nexport const fieldProps = {\n  autofocus: PropTypes.bool,\n  disabled: PropTypes.bool,\n  errorSchema: PropTypes.object,\n  formData: PropTypes.any,\n  idSchema: PropTypes.object,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func.isRequired,\n  onFocus: PropTypes.func,\n  rawErrors: PropTypes.arrayOf(PropTypes.string),\n  readonly: PropTypes.bool,\n  registry: registry.isRequired,\n  required: PropTypes.bool,\n  schema: PropTypes.object.isRequired,\n  uiSchema: PropTypes.shape({\n    \"ui:options\": PropTypes.shape({\n      addable: PropTypes.bool,\n      orderable: PropTypes.bool,\n      removable: PropTypes.bool,\n    }),\n  }),\n};\n","import toPath from \"lodash/toPath\";\nimport Ajv from \"ajv\";\nlet ajv = createAjvInstance();\nimport { deepEquals, getDefaultFormState } from \"./utils\";\n\nlet formerCustomFormats = null;\nlet formerMetaSchema = null;\nconst ROOT_SCHEMA_PREFIX = \"__rjsf_rootSchema\";\n\nimport { isObject, mergeObjects } from \"./utils\";\n\nfunction createAjvInstance() {\n  const ajv = new Ajv({\n    errorDataPath: \"property\",\n    allErrors: true,\n    multipleOfPrecision: 8,\n    schemaId: \"auto\",\n    unknownFormats: \"ignore\",\n  });\n\n  // add custom formats\n  ajv.addFormat(\n    \"data-url\",\n    /^data:([a-z]+\\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/\n  );\n  ajv.addFormat(\n    \"color\",\n    /^(#?([0-9A-Fa-f]{3}){1,2}\\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\\(\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*\\))|(rgb\\(\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*\\)))$/\n  );\n  return ajv;\n}\n\nfunction toErrorSchema(errors) {\n  // Transforms a ajv validation errors list:\n  // [\n  //   {property: \".level1.level2[2].level3\", message: \"err a\"},\n  //   {property: \".level1.level2[2].level3\", message: \"err b\"},\n  //   {property: \".level1.level2[4].level3\", message: \"err b\"},\n  // ]\n  // Into an error tree:\n  // {\n  //   level1: {\n  //     level2: {\n  //       2: {level3: {errors: [\"err a\", \"err b\"]}},\n  //       4: {level3: {errors: [\"err b\"]}},\n  //     }\n  //   }\n  // };\n  if (!errors.length) {\n    return {};\n  }\n  return errors.reduce((errorSchema, error) => {\n    const { property, message } = error;\n    const path = toPath(property);\n    let parent = errorSchema;\n\n    // If the property is at the root (.level1) then toPath creates\n    // an empty array element at the first index. Remove it.\n    if (path.length > 0 && path[0] === \"\") {\n      path.splice(0, 1);\n    }\n\n    for (const segment of path.slice(0)) {\n      if (!(segment in parent)) {\n        parent[segment] = {};\n      }\n      parent = parent[segment];\n    }\n\n    if (Array.isArray(parent.__errors)) {\n      // We store the list of errors for this node in a property named __errors\n      // to avoid name collision with a possible sub schema field named\n      // \"errors\" (see `validate.createErrorHandler`).\n      parent.__errors = parent.__errors.concat(message);\n    } else {\n      if (message) {\n        parent.__errors = [message];\n      }\n    }\n    return errorSchema;\n  }, {});\n}\n\nexport function toErrorList(errorSchema, fieldName = \"root\") {\n  // XXX: We should transform fieldName as a full field path string.\n  let errorList = [];\n  if (\"__errors\" in errorSchema) {\n    errorList = errorList.concat(\n      errorSchema.__errors.map(stack => {\n        return {\n          stack: `${fieldName}: ${stack}`,\n        };\n      })\n    );\n  }\n  return Object.keys(errorSchema).reduce((acc, key) => {\n    if (key !== \"__errors\") {\n      acc = acc.concat(toErrorList(errorSchema[key], key));\n    }\n    return acc;\n  }, errorList);\n}\n\nfunction createErrorHandler(formData) {\n  const handler = {\n    // We store the list of errors for this node in a property named __errors\n    // to avoid name collision with a possible sub schema field named\n    // \"errors\" (see `utils.toErrorSchema`).\n    __errors: [],\n    addError(message) {\n      this.__errors.push(message);\n    },\n  };\n  if (isObject(formData)) {\n    return Object.keys(formData).reduce((acc, key) => {\n      return { ...acc, [key]: createErrorHandler(formData[key]) };\n    }, handler);\n  }\n  if (Array.isArray(formData)) {\n    return formData.reduce((acc, value, key) => {\n      return { ...acc, [key]: createErrorHandler(value) };\n    }, handler);\n  }\n  return handler;\n}\n\nfunction unwrapErrorHandler(errorHandler) {\n  return Object.keys(errorHandler).reduce((acc, key) => {\n    if (key === \"addError\") {\n      return acc;\n    } else if (key === \"__errors\") {\n      return { ...acc, [key]: errorHandler[key] };\n    }\n    return { ...acc, [key]: unwrapErrorHandler(errorHandler[key]) };\n  }, {});\n}\n\n/**\n * Transforming the error output from ajv to format used by jsonschema.\n * At some point, components should be updated to support ajv.\n */\nfunction transformAjvErrors(errors = []) {\n  if (errors === null) {\n    return [];\n  }\n\n  return errors.map(e => {\n    const { dataPath, keyword, message, params, schemaPath } = e;\n    let property = `${dataPath}`;\n\n    // put data in expected format\n    return {\n      name: keyword,\n      property,\n      message,\n      params, // specific to ajv\n      stack: `${property} ${message}`.trim(),\n      schemaPath,\n    };\n  });\n}\n\n/**\n * This function processes the formData with a user `validate` contributed\n * function, which receives the form data and an `errorHandler` object that\n * will be used to add custom validation errors for each field.\n */\nexport default function validateFormData(\n  formData,\n  schema,\n  customValidate,\n  transformErrors,\n  additionalMetaSchemas = [],\n  customFormats = {}\n) {\n  // Include form data with undefined values, which is required for validation.\n  const rootSchema = schema;\n  formData = getDefaultFormState(schema, formData, rootSchema, true);\n\n  const newMetaSchemas = !deepEquals(formerMetaSchema, additionalMetaSchemas);\n  const newFormats = !deepEquals(formerCustomFormats, customFormats);\n\n  if (newMetaSchemas || newFormats) {\n    ajv = createAjvInstance();\n  }\n\n  // add more schemas to validate against\n  if (\n    additionalMetaSchemas &&\n    newMetaSchemas &&\n    Array.isArray(additionalMetaSchemas)\n  ) {\n    ajv.addMetaSchema(additionalMetaSchemas);\n    formerMetaSchema = additionalMetaSchemas;\n  }\n\n  // add more custom formats to validate against\n  if (customFormats && newFormats && isObject(customFormats)) {\n    Object.keys(customFormats).forEach(formatName => {\n      ajv.addFormat(formatName, customFormats[formatName]);\n    });\n\n    formerCustomFormats = customFormats;\n  }\n\n  let validationError = null;\n  try {\n    ajv.validate(schema, formData);\n  } catch (err) {\n    validationError = err;\n  }\n\n  let errors = transformAjvErrors(ajv.errors);\n  // Clear errors to prevent persistent errors, see #1104\n\n  ajv.errors = null;\n\n  const noProperMetaSchema =\n    validationError &&\n    validationError.message &&\n    typeof validationError.message === \"string\" &&\n    validationError.message.includes(\"no schema with key or ref \");\n\n  if (noProperMetaSchema) {\n    errors = [\n      ...errors,\n      {\n        stack: validationError.message,\n      },\n    ];\n  }\n  if (typeof transformErrors === \"function\") {\n    errors = transformErrors(errors);\n  }\n\n  let errorSchema = toErrorSchema(errors);\n\n  if (noProperMetaSchema) {\n    errorSchema = {\n      ...errorSchema,\n      ...{\n        $schema: {\n          __errors: [validationError.message],\n        },\n      },\n    };\n  }\n\n  if (typeof customValidate !== \"function\") {\n    return { errors, errorSchema };\n  }\n\n  const errorHandler = customValidate(formData, createErrorHandler(formData));\n  const userErrorSchema = unwrapErrorHandler(errorHandler);\n  const newErrorSchema = mergeObjects(errorSchema, userErrorSchema, true);\n  // XXX: The errors list produced is not fully compliant with the format\n  // exposed by the jsonschema lib, which contains full field paths and other\n  // properties.\n  const newErrors = toErrorList(newErrorSchema);\n\n  return {\n    errors: newErrors,\n    errorSchema: newErrorSchema,\n  };\n}\n\n/**\n * Recursively prefixes all $ref's in a schema with `ROOT_SCHEMA_PREFIX`\n * This is used in isValid to make references to the rootSchema\n */\nexport function withIdRefPrefix(schemaNode) {\n  let obj = schemaNode;\n  if (schemaNode.constructor === Object) {\n    obj = { ...schemaNode };\n    for (const key in obj) {\n      const value = obj[key];\n      if (\n        key === \"$ref\" &&\n        typeof value === \"string\" &&\n        value.startsWith(\"#\")\n      ) {\n        obj[key] = ROOT_SCHEMA_PREFIX + value;\n      } else {\n        obj[key] = withIdRefPrefix(value);\n      }\n    }\n  } else if (Array.isArray(schemaNode)) {\n    obj = [...schemaNode];\n    for (var i = 0; i < obj.length; i++) {\n      obj[i] = withIdRefPrefix(obj[i]);\n    }\n  }\n  return obj;\n}\n\n/**\n * Validates data against a schema, returning true if the data is valid, or\n * false otherwise. If the schema is invalid, then this function will return\n * false.\n */\nexport function isValid(schema, data, rootSchema) {\n  try {\n    // add the rootSchema ROOT_SCHEMA_PREFIX as id.\n    // then rewrite the schema ref's to point to the rootSchema\n    // this accounts for the case where schema have references to models\n    // that lives in the rootSchema but not in the schema in question.\n    return ajv\n      .addSchema(rootSchema, ROOT_SCHEMA_PREFIX)\n      .validate(withIdRefPrefix(schema), data);\n  } catch (e) {\n    return false;\n  } finally {\n    // make sure we remove the rootSchema from the global ajv instance\n    ajv.removeSchema(ROOT_SCHEMA_PREFIX);\n  }\n}\n","import React from \"react\";\nimport * as ReactIs from \"react-is\";\nimport mergeAllOf from \"json-schema-merge-allof\";\nimport fill from \"core-js-pure/features/array/fill\";\nimport union from \"lodash/union\";\nimport jsonpointer from \"jsonpointer\";\nimport validateFormData, { isValid } from \"./validate\";\n\nexport const ADDITIONAL_PROPERTY_FLAG = \"__additional_property\";\n\nconst widgetMap = {\n  boolean: {\n    checkbox: \"CheckboxWidget\",\n    radio: \"RadioWidget\",\n    select: \"SelectWidget\",\n    hidden: \"HiddenWidget\",\n  },\n  string: {\n    text: \"TextWidget\",\n    password: \"PasswordWidget\",\n    email: \"EmailWidget\",\n    hostname: \"TextWidget\",\n    ipv4: \"TextWidget\",\n    ipv6: \"TextWidget\",\n    uri: \"URLWidget\",\n    \"data-url\": \"FileWidget\",\n    radio: \"RadioWidget\",\n    select: \"SelectWidget\",\n    textarea: \"TextareaWidget\",\n    hidden: \"HiddenWidget\",\n    date: \"DateWidget\",\n    datetime: \"DateTimeWidget\",\n    \"date-time\": \"DateTimeWidget\",\n    \"alt-date\": \"AltDateWidget\",\n    \"alt-datetime\": \"AltDateTimeWidget\",\n    color: \"ColorWidget\",\n    file: \"FileWidget\",\n  },\n  number: {\n    text: \"TextWidget\",\n    select: \"SelectWidget\",\n    updown: \"UpDownWidget\",\n    range: \"RangeWidget\",\n    radio: \"RadioWidget\",\n    hidden: \"HiddenWidget\",\n  },\n  integer: {\n    text: \"TextWidget\",\n    select: \"SelectWidget\",\n    updown: \"UpDownWidget\",\n    range: \"RangeWidget\",\n    radio: \"RadioWidget\",\n    hidden: \"HiddenWidget\",\n  },\n  array: {\n    select: \"SelectWidget\",\n    checkboxes: \"CheckboxesWidget\",\n    files: \"FileWidget\",\n    hidden: \"HiddenWidget\",\n  },\n};\n\nexport function canExpand(schema, uiSchema, formData) {\n  if (!schema.additionalProperties) {\n    return false;\n  }\n  const { expandable } = getUiOptions(uiSchema);\n  if (expandable === false) {\n    return expandable;\n  }\n  // if ui:options.expandable was not explicitly set to false, we can add\n  // another property if we have not exceeded maxProperties yet\n  if (schema.maxProperties !== undefined) {\n    return Object.keys(formData).length < schema.maxProperties;\n  }\n  return true;\n}\n\n/* Gets the type of a given schema. */\nexport function getSchemaType(schema) {\n  let { type } = schema;\n\n  if (!type && schema.const) {\n    return guessType(schema.const);\n  }\n\n  if (!type && schema.enum) {\n    return \"string\";\n  }\n\n  if (!type && (schema.properties || schema.additionalProperties)) {\n    return \"object\";\n  }\n\n  if (type instanceof Array && type.length === 2 && type.includes(\"null\")) {\n    return type.find(type => type !== \"null\");\n  }\n\n  return type;\n}\n\nexport function getWidget(schema, widget, registeredWidgets = {}) {\n  const type = getSchemaType(schema);\n\n  function mergeOptions(Widget) {\n    // cache return value as property of widget for proper react reconciliation\n    if (!Widget.MergedWidget) {\n      const defaultOptions =\n        (Widget.defaultProps && Widget.defaultProps.options) || {};\n      Widget.MergedWidget = ({ options = {}, ...props }) => (\n        <Widget options={{ ...defaultOptions, ...options }} {...props} />\n      );\n    }\n    return Widget.MergedWidget;\n  }\n\n  if (\n    typeof widget === \"function\" ||\n    ReactIs.isForwardRef(React.createElement(widget)) ||\n    ReactIs.isMemo(widget)\n  ) {\n    return mergeOptions(widget);\n  }\n\n  if (typeof widget !== \"string\") {\n    throw new Error(`Unsupported widget definition: ${typeof widget}`);\n  }\n\n  if (registeredWidgets.hasOwnProperty(widget)) {\n    const registeredWidget = registeredWidgets[widget];\n    return getWidget(schema, registeredWidget, registeredWidgets);\n  }\n\n  if (!widgetMap.hasOwnProperty(type)) {\n    throw new Error(`No widget for type \"${type}\"`);\n  }\n\n  if (widgetMap[type].hasOwnProperty(widget)) {\n    const registeredWidget = registeredWidgets[widgetMap[type][widget]];\n    return getWidget(schema, registeredWidget, registeredWidgets);\n  }\n\n  throw new Error(`No widget \"${widget}\" for type \"${type}\"`);\n}\n\nexport function hasWidget(schema, widget, registeredWidgets = {}) {\n  try {\n    getWidget(schema, widget, registeredWidgets);\n    return true;\n  } catch (e) {\n    if (\n      e.message &&\n      (e.message.startsWith(\"No widget\") ||\n        e.message.startsWith(\"Unsupported widget\"))\n    ) {\n      return false;\n    }\n    throw e;\n  }\n}\n\nfunction computeDefaults(\n  _schema,\n  parentDefaults,\n  rootSchema,\n  rawFormData = {},\n  includeUndefinedValues = false\n) {\n  let schema = isObject(_schema) ? _schema : {};\n  const formData = isObject(rawFormData) ? rawFormData : {};\n  // Compute the defaults recursively: give highest priority to deepest nodes.\n  let defaults = parentDefaults;\n  if (isObject(defaults) && isObject(schema.default)) {\n    // For object defaults, only override parent defaults that are defined in\n    // schema.default.\n    defaults = mergeObjects(defaults, schema.default);\n  } else if (\"default\" in schema) {\n    // Use schema defaults for this node.\n    defaults = schema.default;\n  } else if (\"$ref\" in schema) {\n    // Use referenced schema defaults for this node.\n    const refSchema = findSchemaDefinition(schema.$ref, rootSchema);\n    return computeDefaults(\n      refSchema,\n      defaults,\n      rootSchema,\n      formData,\n      includeUndefinedValues\n    );\n  } else if (\"dependencies\" in schema) {\n    const resolvedSchema = resolveDependencies(schema, rootSchema, formData);\n    return computeDefaults(\n      resolvedSchema,\n      defaults,\n      rootSchema,\n      formData,\n      includeUndefinedValues\n    );\n  } else if (isFixedItems(schema)) {\n    defaults = schema.items.map((itemSchema, idx) =>\n      computeDefaults(\n        itemSchema,\n        Array.isArray(parentDefaults) ? parentDefaults[idx] : undefined,\n        rootSchema,\n        formData,\n        includeUndefinedValues\n      )\n    );\n  } else if (\"oneOf\" in schema) {\n    schema =\n      schema.oneOf[getMatchingOption(undefined, schema.oneOf, rootSchema)];\n  } else if (\"anyOf\" in schema) {\n    schema =\n      schema.anyOf[getMatchingOption(undefined, schema.anyOf, rootSchema)];\n  }\n\n  // Not defaults defined for this node, fallback to generic typed ones.\n  if (typeof defaults === \"undefined\") {\n    defaults = schema.default;\n  }\n\n  switch (getSchemaType(schema)) {\n    // We need to recur for object schema inner default values.\n    case \"object\":\n      return Object.keys(schema.properties || {}).reduce((acc, key) => {\n        // Compute the defaults for this node, with the parent defaults we might\n        // have from a previous run: defaults[key].\n        let computedDefault = computeDefaults(\n          schema.properties[key],\n          (defaults || {})[key],\n          rootSchema,\n          (formData || {})[key],\n          includeUndefinedValues\n        );\n        if (includeUndefinedValues || computedDefault !== undefined) {\n          acc[key] = computedDefault;\n        }\n        return acc;\n      }, {});\n\n    case \"array\":\n      // Inject defaults into existing array defaults\n      if (Array.isArray(defaults)) {\n        defaults = defaults.map((item, idx) => {\n          return computeDefaults(\n            schema.items[idx] || schema.additionalItems || {},\n            item,\n            rootSchema\n          );\n        });\n      }\n\n      // Deeply inject defaults into already existing form data\n      if (Array.isArray(rawFormData)) {\n        defaults = rawFormData.map((item, idx) => {\n          return computeDefaults(\n            schema.items,\n            (defaults || {})[idx],\n            rootSchema,\n            item\n          );\n        });\n      }\n      if (schema.minItems) {\n        if (!isMultiSelect(schema, rootSchema)) {\n          const defaultsLength = defaults ? defaults.length : 0;\n          if (schema.minItems > defaultsLength) {\n            const defaultEntries = defaults || [];\n            // populate the array with the defaults\n            const fillerSchema = Array.isArray(schema.items)\n              ? schema.additionalItems\n              : schema.items;\n            const fillerEntries = fill(\n              new Array(schema.minItems - defaultsLength),\n              computeDefaults(fillerSchema, fillerSchema.defaults, rootSchema)\n            );\n            // then fill up the rest with either the item default or empty, up to minItems\n\n            return defaultEntries.concat(fillerEntries);\n          }\n        } else {\n          return defaults ? defaults : [];\n        }\n      }\n  }\n  return defaults;\n}\n\nexport function getDefaultFormState(\n  _schema,\n  formData,\n  rootSchema = {},\n  includeUndefinedValues = false\n) {\n  if (!isObject(_schema)) {\n    throw new Error(\"Invalid schema: \" + _schema);\n  }\n  const schema = retrieveSchema(_schema, rootSchema, formData);\n  const defaults = computeDefaults(\n    schema,\n    _schema.default,\n    rootSchema,\n    formData,\n    includeUndefinedValues\n  );\n  if (typeof formData === \"undefined\") {\n    // No form data? Use schema defaults.\n    return defaults;\n  }\n  if (isObject(formData) || Array.isArray(formData)) {\n    return mergeDefaultsWithFormData(defaults, formData);\n  }\n  if (formData === 0 || formData === false || formData === \"\") {\n    return formData;\n  }\n  return formData || defaults;\n}\n\n/**\n * When merging defaults and form data, we want to merge in this specific way:\n * - objects are deeply merged\n * - arrays are merged in such a way that:\n *   - when the array is set in form data, only array entries set in form data\n *     are deeply merged; additional entries from the defaults are ignored\n *   - when the array is not set in form data, the default is copied over\n * - scalars are overwritten/set by form data\n */\nexport function mergeDefaultsWithFormData(defaults, formData) {\n  if (Array.isArray(formData)) {\n    if (!Array.isArray(defaults)) {\n      defaults = [];\n    }\n    return formData.map((value, idx) => {\n      if (defaults[idx]) {\n        return mergeDefaultsWithFormData(defaults[idx], value);\n      }\n      return value;\n    });\n  } else if (isObject(formData)) {\n    const acc = Object.assign({}, defaults); // Prevent mutation of source object.\n    return Object.keys(formData).reduce((acc, key) => {\n      acc[key] = mergeDefaultsWithFormData(\n        defaults ? defaults[key] : {},\n        formData[key]\n      );\n      return acc;\n    }, acc);\n  } else {\n    return formData;\n  }\n}\n\nexport function getUiOptions(uiSchema) {\n  // get all passed options from ui:widget, ui:options, and ui:<optionName>\n  return Object.keys(uiSchema)\n    .filter(key => key.indexOf(\"ui:\") === 0)\n    .reduce((options, key) => {\n      const value = uiSchema[key];\n      if (key === \"ui:widget\" && isObject(value)) {\n        console.warn(\n          \"Setting options via ui:widget object is deprecated, use ui:options instead\"\n        );\n        return {\n          ...options,\n          ...(value.options || {}),\n          widget: value.component,\n        };\n      }\n      if (key === \"ui:options\" && isObject(value)) {\n        return { ...options, ...value };\n      }\n      return { ...options, [key.substring(3)]: value };\n    }, {});\n}\n\nexport function getSubmitButtonOptions(uiSchema) {\n  const uiOptions = getUiOptions(uiSchema);\n  const defaultOptions = {\n    props: {\n      disabled: false,\n    },\n    submitText: \"Submit\",\n    norender: false,\n  };\n  if (uiOptions && uiOptions[\"submitButtonOptions\"]) {\n    return Object.assign({}, defaultOptions, uiOptions[\"submitButtonOptions\"]);\n  }\n\n  return defaultOptions;\n}\n\nexport function getDisplayLabel(schema, uiSchema, rootSchema) {\n  const uiOptions = getUiOptions(uiSchema);\n  let { label: displayLabel = true } = uiOptions;\n  const schemaType = getSchemaType(schema);\n\n  if (schemaType === \"array\") {\n    displayLabel =\n      isMultiSelect(schema, rootSchema) ||\n      isFilesArray(schema, uiSchema, rootSchema) ||\n      isCustomWidget(uiSchema);\n  }\n\n  if (schemaType === \"object\") {\n    displayLabel = false;\n  }\n  if (schemaType === \"boolean\" && !uiSchema[\"ui:widget\"]) {\n    displayLabel = false;\n  }\n  if (uiSchema[\"ui:field\"]) {\n    displayLabel = false;\n  }\n  return displayLabel;\n}\n\nexport function isObject(thing) {\n  if (typeof File !== \"undefined\" && thing instanceof File) {\n    return false;\n  }\n  return typeof thing === \"object\" && thing !== null && !Array.isArray(thing);\n}\n\nexport function mergeObjects(obj1, obj2, concatArrays = false) {\n  // Recursively merge deeply nested objects.\n  var acc = Object.assign({}, obj1); // Prevent mutation of source object.\n  return Object.keys(obj2).reduce((acc, key) => {\n    const left = obj1 ? obj1[key] : {},\n      right = obj2[key];\n    if (obj1 && obj1.hasOwnProperty(key) && isObject(right)) {\n      acc[key] = mergeObjects(left, right, concatArrays);\n    } else if (concatArrays && Array.isArray(left) && Array.isArray(right)) {\n      acc[key] = left.concat(right);\n    } else {\n      acc[key] = right;\n    }\n    return acc;\n  }, acc);\n}\n\nexport function asNumber(value) {\n  if (value === \"\") {\n    return undefined;\n  }\n  if (value === null) {\n    return null;\n  }\n  if (/\\.$/.test(value)) {\n    // \"3.\" can't really be considered a number even if it parses in js. The\n    // user is most likely entering a float.\n    return value;\n  }\n  if (/\\.0$/.test(value)) {\n    // we need to return this as a string here, to allow for input like 3.07\n    return value;\n  }\n  const n = Number(value);\n  const valid = typeof n === \"number\" && !Number.isNaN(n);\n\n  if (/\\.\\d*0$/.test(value)) {\n    // It's a number, that's cool - but we need it as a string so it doesn't screw\n    // with the user when entering dollar amounts or other values (such as those with\n    // specific precision or number of significant digits)\n    return value;\n  }\n\n  return valid ? n : value;\n}\n\nexport function orderProperties(properties, order) {\n  if (!Array.isArray(order)) {\n    return properties;\n  }\n\n  const arrayToHash = arr =>\n    arr.reduce((prev, curr) => {\n      prev[curr] = true;\n      return prev;\n    }, {});\n  const errorPropList = arr =>\n    arr.length > 1\n      ? `properties '${arr.join(\"', '\")}'`\n      : `property '${arr[0]}'`;\n  const propertyHash = arrayToHash(properties);\n  const orderFiltered = order.filter(\n    prop => prop === \"*\" || propertyHash[prop]\n  );\n  const orderHash = arrayToHash(orderFiltered);\n\n  const rest = properties.filter(prop => !orderHash[prop]);\n  const restIndex = orderFiltered.indexOf(\"*\");\n  if (restIndex === -1) {\n    if (rest.length) {\n      throw new Error(\n        `uiSchema order list does not contain ${errorPropList(rest)}`\n      );\n    }\n    return orderFiltered;\n  }\n  if (restIndex !== orderFiltered.lastIndexOf(\"*\")) {\n    throw new Error(\"uiSchema order list contains more than one wildcard item\");\n  }\n\n  const complete = [...orderFiltered];\n  complete.splice(restIndex, 1, ...rest);\n  return complete;\n}\n\n/**\n * This function checks if the given schema matches a single\n * constant value.\n */\nexport function isConstant(schema) {\n  return (\n    (Array.isArray(schema.enum) && schema.enum.length === 1) ||\n    schema.hasOwnProperty(\"const\")\n  );\n}\n\nexport function toConstant(schema) {\n  if (Array.isArray(schema.enum) && schema.enum.length === 1) {\n    return schema.enum[0];\n  } else if (schema.hasOwnProperty(\"const\")) {\n    return schema.const;\n  } else {\n    throw new Error(\"schema cannot be inferred as a constant\");\n  }\n}\n\nexport function isSelect(_schema, rootSchema = {}) {\n  const schema = retrieveSchema(_schema, rootSchema);\n  const altSchemas = schema.oneOf || schema.anyOf;\n  if (Array.isArray(schema.enum)) {\n    return true;\n  } else if (Array.isArray(altSchemas)) {\n    return altSchemas.every(altSchemas => isConstant(altSchemas));\n  }\n  return false;\n}\n\nexport function isMultiSelect(schema, rootSchema = {}) {\n  if (!schema.uniqueItems || !schema.items) {\n    return false;\n  }\n  return isSelect(schema.items, rootSchema);\n}\n\nexport function isFilesArray(schema, uiSchema, rootSchema = {}) {\n  if (uiSchema[\"ui:widget\"] === \"files\") {\n    return true;\n  } else if (schema.items) {\n    const itemsSchema = retrieveSchema(schema.items, rootSchema);\n    return itemsSchema.type === \"string\" && itemsSchema.format === \"data-url\";\n  }\n  return false;\n}\n\nexport function isFixedItems(schema) {\n  return (\n    Array.isArray(schema.items) &&\n    schema.items.length > 0 &&\n    schema.items.every(item => isObject(item))\n  );\n}\n\nexport function isCustomWidget(uiSchema) {\n  return (\n    // TODO: Remove the `&& uiSchema[\"ui:widget\"] !== \"hidden\"` once we support hidden widgets for arrays.\n    // https://react-jsonschema-form.readthedocs.io/en/latest/usage/widgets/#hidden-widgets\n    \"widget\" in getUiOptions(uiSchema) &&\n    getUiOptions(uiSchema)[\"widget\"] !== \"hidden\"\n  );\n}\n\nexport function allowAdditionalItems(schema) {\n  if (schema.additionalItems === true) {\n    console.warn(\"additionalItems=true is currently not supported\");\n  }\n  return isObject(schema.additionalItems);\n}\n\nexport function optionsList(schema) {\n  if (schema.enum) {\n    return schema.enum.map((value, i) => {\n      const label = (schema.enumNames && schema.enumNames[i]) || String(value);\n      return { label, value };\n    });\n  } else {\n    const altSchemas = schema.oneOf || schema.anyOf;\n    return altSchemas.map(schema => {\n      const value = toConstant(schema);\n      const label = schema.title || String(value);\n      return {\n        schema,\n        label,\n        value,\n      };\n    });\n  }\n}\n\nexport function findSchemaDefinition($ref, rootSchema = {}) {\n  const origRef = $ref;\n  if ($ref.startsWith(\"#\")) {\n    // Decode URI fragment representation.\n    $ref = decodeURIComponent($ref.substring(1));\n  } else {\n    throw new Error(`Could not find a definition for ${origRef}.`);\n  }\n  const current = jsonpointer.get(rootSchema, $ref);\n  if (current === undefined) {\n    throw new Error(`Could not find a definition for ${origRef}.`);\n  }\n  if (current.hasOwnProperty(\"$ref\")) {\n    return findSchemaDefinition(current.$ref, rootSchema);\n  }\n  return current;\n}\n\n// In the case where we have to implicitly create a schema, it is useful to know what type to use\n//  based on the data we are defining\nexport const guessType = function guessType(value) {\n  if (Array.isArray(value)) {\n    return \"array\";\n  } else if (typeof value === \"string\") {\n    return \"string\";\n  } else if (value == null) {\n    return \"null\";\n  } else if (typeof value === \"boolean\") {\n    return \"boolean\";\n  } else if (!isNaN(value)) {\n    return \"number\";\n  } else if (typeof value === \"object\") {\n    return \"object\";\n  }\n  // Default to string if we can't figure it out\n  return \"string\";\n};\n\n// This function will create new \"properties\" items for each key in our formData\nexport function stubExistingAdditionalProperties(\n  schema,\n  rootSchema = {},\n  formData = {}\n) {\n  // Clone the schema so we don't ruin the consumer's original\n  schema = {\n    ...schema,\n    properties: { ...schema.properties },\n  };\n\n  // make sure formData is an object\n  formData = isObject(formData) ? formData : {};\n\n  Object.keys(formData).forEach(key => {\n    if (schema.properties.hasOwnProperty(key)) {\n      // No need to stub, our schema already has the property\n      return;\n    }\n\n    let additionalProperties;\n    if (schema.additionalProperties.hasOwnProperty(\"$ref\")) {\n      additionalProperties = retrieveSchema(\n        { $ref: schema.additionalProperties[\"$ref\"] },\n        rootSchema,\n        formData\n      );\n    } else if (schema.additionalProperties.hasOwnProperty(\"type\")) {\n      additionalProperties = { ...schema.additionalProperties };\n    } else {\n      additionalProperties = { type: guessType(formData[key]) };\n    }\n\n    // The type of our new key should match the additionalProperties value;\n    schema.properties[key] = additionalProperties;\n    // Set our additional property flag so we know it was dynamically added\n    schema.properties[key][ADDITIONAL_PROPERTY_FLAG] = true;\n  });\n\n  return schema;\n}\n\n/**\n * Resolves a conditional block (if/else/then) by removing the condition and merging the appropriate conditional branch with the rest of the schema\n */\nconst resolveCondition = (schema, rootSchema, formData) => {\n  let {\n    if: expression,\n    then,\n    else: otherwise,\n    ...resolvedSchemaLessConditional\n  } = schema;\n\n  const conditionalSchema = isValid(expression, formData, rootSchema)\n    ? then\n    : otherwise;\n\n  if (conditionalSchema) {\n    return retrieveSchema(\n      mergeSchemas(\n        resolvedSchemaLessConditional,\n        retrieveSchema(conditionalSchema, rootSchema, formData)\n      ),\n      rootSchema,\n      formData\n    );\n  } else {\n    return retrieveSchema(resolvedSchemaLessConditional, rootSchema, formData);\n  }\n};\n\n/**\n * Resolves references and dependencies within a schema and its 'allOf' children.\n *\n * Called internally by retrieveSchema.\n */\nexport function resolveSchema(schema, rootSchema = {}, formData = {}) {\n  if (schema.hasOwnProperty(\"$ref\")) {\n    return resolveReference(schema, rootSchema, formData);\n  } else if (schema.hasOwnProperty(\"dependencies\")) {\n    const resolvedSchema = resolveDependencies(schema, rootSchema, formData);\n    return retrieveSchema(resolvedSchema, rootSchema, formData);\n  } else if (schema.hasOwnProperty(\"allOf\")) {\n    return {\n      ...schema,\n      allOf: schema.allOf.map(allOfSubschema =>\n        retrieveSchema(allOfSubschema, rootSchema, formData)\n      ),\n    };\n  } else {\n    // No $ref or dependencies attribute found, returning the original schema.\n    return schema;\n  }\n}\n\nfunction resolveReference(schema, rootSchema, formData) {\n  // Retrieve the referenced schema definition.\n  const $refSchema = findSchemaDefinition(schema.$ref, rootSchema);\n  // Drop the $ref property of the source schema.\n  const { $ref, ...localSchema } = schema;\n  // Update referenced schema definition with local schema properties.\n  return retrieveSchema(\n    { ...$refSchema, ...localSchema },\n    rootSchema,\n    formData\n  );\n}\n\nexport function retrieveSchema(schema, rootSchema = {}, formData = {}) {\n  if (!isObject(schema)) {\n    return {};\n  }\n  let resolvedSchema = resolveSchema(schema, rootSchema, formData);\n\n  if (schema.hasOwnProperty(\"if\")) {\n    return resolveCondition(schema, rootSchema, formData);\n  }\n\n  // For each level of the dependency, we need to recursively determine the appropriate resolved schema given the current state of formData.\n  // Otherwise, nested allOf subschemas will not be correctly displayed.\n  if (resolvedSchema.properties) {\n    const properties = {};\n\n    Object.entries(resolvedSchema.properties).forEach(entries => {\n      const propName = entries[0];\n      const propSchema = entries[1];\n      const rawPropData = formData && formData[propName];\n      const propData = isObject(rawPropData) ? rawPropData : {};\n      const resolvedPropSchema = retrieveSchema(\n        propSchema,\n        rootSchema,\n        propData\n      );\n\n      properties[propName] = resolvedPropSchema;\n\n      if (\n        propSchema !== resolvedPropSchema &&\n        resolvedSchema.properties !== properties\n      ) {\n        resolvedSchema = { ...resolvedSchema, properties };\n      }\n    });\n  }\n\n  if (\"allOf\" in schema) {\n    try {\n      resolvedSchema = mergeAllOf({\n        ...resolvedSchema,\n        allOf: resolvedSchema.allOf,\n      });\n    } catch (e) {\n      console.warn(\"could not merge subschemas in allOf:\\n\" + e);\n      const { allOf, ...resolvedSchemaWithoutAllOf } = resolvedSchema;\n      return resolvedSchemaWithoutAllOf;\n    }\n  }\n  const hasAdditionalProperties =\n    resolvedSchema.hasOwnProperty(\"additionalProperties\") &&\n    resolvedSchema.additionalProperties !== false;\n  if (hasAdditionalProperties) {\n    return stubExistingAdditionalProperties(\n      resolvedSchema,\n      rootSchema,\n      formData\n    );\n  }\n  return resolvedSchema;\n}\n\nfunction resolveDependencies(schema, rootSchema, formData) {\n  // Drop the dependencies from the source schema.\n  let { dependencies = {}, ...resolvedSchema } = schema;\n  if (\"oneOf\" in resolvedSchema) {\n    resolvedSchema =\n      resolvedSchema.oneOf[\n        getMatchingOption(formData, resolvedSchema.oneOf, rootSchema)\n      ];\n  } else if (\"anyOf\" in resolvedSchema) {\n    resolvedSchema =\n      resolvedSchema.anyOf[\n        getMatchingOption(formData, resolvedSchema.anyOf, rootSchema)\n      ];\n  }\n  return processDependencies(\n    dependencies,\n    resolvedSchema,\n    rootSchema,\n    formData\n  );\n}\nfunction processDependencies(\n  dependencies,\n  resolvedSchema,\n  rootSchema,\n  formData\n) {\n  // Process dependencies updating the local schema properties as appropriate.\n  for (const dependencyKey in dependencies) {\n    // Skip this dependency if its trigger property is not present.\n    if (formData[dependencyKey] === undefined) {\n      continue;\n    }\n    // Skip this dependency if it is not included in the schema (such as when dependencyKey is itself a hidden dependency.)\n    if (\n      resolvedSchema.properties &&\n      !(dependencyKey in resolvedSchema.properties)\n    ) {\n      continue;\n    }\n    const {\n      [dependencyKey]: dependencyValue,\n      ...remainingDependencies\n    } = dependencies;\n    if (Array.isArray(dependencyValue)) {\n      resolvedSchema = withDependentProperties(resolvedSchema, dependencyValue);\n    } else if (isObject(dependencyValue)) {\n      resolvedSchema = withDependentSchema(\n        resolvedSchema,\n        rootSchema,\n        formData,\n        dependencyKey,\n        dependencyValue\n      );\n    }\n    return processDependencies(\n      remainingDependencies,\n      resolvedSchema,\n      rootSchema,\n      formData\n    );\n  }\n  return resolvedSchema;\n}\n\nfunction withDependentProperties(schema, additionallyRequired) {\n  if (!additionallyRequired) {\n    return schema;\n  }\n  const required = Array.isArray(schema.required)\n    ? Array.from(new Set([...schema.required, ...additionallyRequired]))\n    : additionallyRequired;\n  return { ...schema, required: required };\n}\n\nfunction withDependentSchema(\n  schema,\n  rootSchema,\n  formData,\n  dependencyKey,\n  dependencyValue\n) {\n  let { oneOf, ...dependentSchema } = retrieveSchema(\n    dependencyValue,\n    rootSchema,\n    formData\n  );\n  schema = mergeSchemas(schema, dependentSchema);\n  // Since it does not contain oneOf, we return the original schema.\n  if (oneOf === undefined) {\n    return schema;\n  } else if (!Array.isArray(oneOf)) {\n    throw new Error(`invalid: it is some ${typeof oneOf} instead of an array`);\n  }\n  // Resolve $refs inside oneOf.\n  const resolvedOneOf = oneOf.map(subschema =>\n    subschema.hasOwnProperty(\"$ref\")\n      ? resolveReference(subschema, rootSchema, formData)\n      : subschema\n  );\n  return withExactlyOneSubschema(\n    schema,\n    rootSchema,\n    formData,\n    dependencyKey,\n    resolvedOneOf\n  );\n}\n\nfunction withExactlyOneSubschema(\n  schema,\n  rootSchema,\n  formData,\n  dependencyKey,\n  oneOf\n) {\n  const validSubschemas = oneOf.filter(subschema => {\n    if (!subschema.properties) {\n      return false;\n    }\n    const { [dependencyKey]: conditionPropertySchema } = subschema.properties;\n    if (conditionPropertySchema) {\n      const conditionSchema = {\n        type: \"object\",\n        properties: {\n          [dependencyKey]: conditionPropertySchema,\n        },\n      };\n      const { errors } = validateFormData(formData, conditionSchema);\n      return errors.length === 0;\n    }\n  });\n  if (validSubschemas.length !== 1) {\n    console.warn(\n      \"ignoring oneOf in dependencies because there isn't exactly one subschema that is valid\"\n    );\n    return schema;\n  }\n  const subschema = validSubschemas[0];\n  const {\n    [dependencyKey]: conditionPropertySchema,\n    ...dependentSubschema\n  } = subschema.properties;\n  const dependentSchema = { ...subschema, properties: dependentSubschema };\n  return mergeSchemas(\n    schema,\n    retrieveSchema(dependentSchema, rootSchema, formData)\n  );\n}\n\n// Recursively merge deeply nested schemas.\n// The difference between mergeSchemas and mergeObjects\n// is that mergeSchemas only concats arrays for\n// values under the \"required\" keyword, and when it does,\n// it doesn't include duplicate values.\nexport function mergeSchemas(obj1, obj2) {\n  var acc = Object.assign({}, obj1); // Prevent mutation of source object.\n  return Object.keys(obj2).reduce((acc, key) => {\n    const left = obj1 ? obj1[key] : {},\n      right = obj2[key];\n    if (obj1 && obj1.hasOwnProperty(key) && isObject(right)) {\n      acc[key] = mergeSchemas(left, right);\n    } else if (\n      obj1 &&\n      obj2 &&\n      (getSchemaType(obj1) === \"object\" || getSchemaType(obj2) === \"object\") &&\n      key === \"required\" &&\n      Array.isArray(left) &&\n      Array.isArray(right)\n    ) {\n      // Don't include duplicate values when merging\n      // \"required\" fields.\n      acc[key] = union(left, right);\n    } else {\n      acc[key] = right;\n    }\n    return acc;\n  }, acc);\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) === \"[object Arguments]\";\n}\n\nexport function deepEquals(a, b, ca = [], cb = []) {\n  // Partially extracted from node-deeper and adapted to exclude comparison\n  // checks for functions.\n  // https://github.com/othiym23/node-deeper\n  if (a === b) {\n    return true;\n  } else if (typeof a === \"function\" || typeof b === \"function\") {\n    // Assume all functions are equivalent\n    // see https://github.com/rjsf-team/react-jsonschema-form/issues/255\n    return true;\n  } else if (typeof a !== \"object\" || typeof b !== \"object\") {\n    return false;\n  } else if (a === null || b === null) {\n    return false;\n  } else if (a instanceof Date && b instanceof Date) {\n    return a.getTime() === b.getTime();\n  } else if (a instanceof RegExp && b instanceof RegExp) {\n    return (\n      a.source === b.source &&\n      a.global === b.global &&\n      a.multiline === b.multiline &&\n      a.lastIndex === b.lastIndex &&\n      a.ignoreCase === b.ignoreCase\n    );\n  } else if (isArguments(a) || isArguments(b)) {\n    if (!(isArguments(a) && isArguments(b))) {\n      return false;\n    }\n    let slice = Array.prototype.slice;\n    return deepEquals(slice.call(a), slice.call(b), ca, cb);\n  } else {\n    if (a.constructor !== b.constructor) {\n      return false;\n    }\n\n    let ka = Object.keys(a);\n    let kb = Object.keys(b);\n    // don't bother with stack acrobatics if there's nothing there\n    if (ka.length === 0 && kb.length === 0) {\n      return true;\n    }\n    if (ka.length !== kb.length) {\n      return false;\n    }\n\n    let cal = ca.length;\n    while (cal--) {\n      if (ca[cal] === a) {\n        return cb[cal] === b;\n      }\n    }\n    ca.push(a);\n    cb.push(b);\n\n    ka.sort();\n    kb.sort();\n    for (var j = ka.length - 1; j >= 0; j--) {\n      if (ka[j] !== kb[j]) {\n        return false;\n      }\n    }\n\n    let key;\n    for (let k = ka.length - 1; k >= 0; k--) {\n      key = ka[k];\n      if (!deepEquals(a[key], b[key], ca, cb)) {\n        return false;\n      }\n    }\n\n    ca.pop();\n    cb.pop();\n\n    return true;\n  }\n}\n\nexport function shouldRender(comp, nextProps, nextState) {\n  const { props, state } = comp;\n  return !deepEquals(props, nextProps) || !deepEquals(state, nextState);\n}\n\nexport function toIdSchema(\n  schema,\n  id,\n  rootSchema,\n  formData = {},\n  idPrefix = \"root\",\n  idSeparator = \"_\"\n) {\n  const idSchema = {\n    $id: id || idPrefix,\n  };\n  if (\"$ref\" in schema || \"dependencies\" in schema || \"allOf\" in schema) {\n    const _schema = retrieveSchema(schema, rootSchema, formData);\n    return toIdSchema(_schema, id, rootSchema, formData, idPrefix, idSeparator);\n  }\n  if (\"items\" in schema && !schema.items.$ref) {\n    return toIdSchema(\n      schema.items,\n      id,\n      rootSchema,\n      formData,\n      idPrefix,\n      idSeparator\n    );\n  }\n  if (schema.type !== \"object\") {\n    return idSchema;\n  }\n  for (const name in schema.properties || {}) {\n    const field = schema.properties[name];\n    const fieldId = idSchema.$id + idSeparator + name;\n    idSchema[name] = toIdSchema(\n      isObject(field) ? field : {},\n      fieldId,\n      rootSchema,\n      // It's possible that formData is not an object -- this can happen if an\n      // array item has just been added, but not populated with data yet\n      (formData || {})[name],\n      idPrefix,\n      idSeparator\n    );\n  }\n  return idSchema;\n}\n\nexport function toPathSchema(schema, name = \"\", rootSchema, formData = {}) {\n  const pathSchema = {\n    $name: name.replace(/^\\./, \"\"),\n  };\n  if (\"$ref\" in schema || \"dependencies\" in schema || \"allOf\" in schema) {\n    const _schema = retrieveSchema(schema, rootSchema, formData);\n    return toPathSchema(_schema, name, rootSchema, formData);\n  }\n\n  if (schema.hasOwnProperty(\"additionalProperties\")) {\n    pathSchema.__rjsf_additionalProperties = true;\n  }\n\n  if (schema.hasOwnProperty(\"items\") && Array.isArray(formData)) {\n    formData.forEach((element, i) => {\n      pathSchema[i] = toPathSchema(\n        schema.items,\n        `${name}.${i}`,\n        rootSchema,\n        element\n      );\n    });\n  } else if (schema.hasOwnProperty(\"properties\")) {\n    for (const property in schema.properties) {\n      pathSchema[property] = toPathSchema(\n        schema.properties[property],\n        `${name}.${property}`,\n        rootSchema,\n        // It's possible that formData is not an object -- this can happen if an\n        // array item has just been added, but not populated with data yet\n        (formData || {})[property]\n      );\n    }\n  }\n  return pathSchema;\n}\n\nexport function parseDateString(dateString, includeTime = true) {\n  if (!dateString) {\n    return {\n      year: -1,\n      month: -1,\n      day: -1,\n      hour: includeTime ? -1 : 0,\n      minute: includeTime ? -1 : 0,\n      second: includeTime ? -1 : 0,\n    };\n  }\n  const date = new Date(dateString);\n  if (Number.isNaN(date.getTime())) {\n    throw new Error(\"Unable to parse date \" + dateString);\n  }\n  return {\n    year: date.getUTCFullYear(),\n    month: date.getUTCMonth() + 1, // oh you, javascript.\n    day: date.getUTCDate(),\n    hour: includeTime ? date.getUTCHours() : 0,\n    minute: includeTime ? date.getUTCMinutes() : 0,\n    second: includeTime ? date.getUTCSeconds() : 0,\n  };\n}\n\nexport function toDateString(\n  { year, month, day, hour = 0, minute = 0, second = 0 },\n  time = true\n) {\n  const utcTime = Date.UTC(year, month - 1, day, hour, minute, second);\n  const datetime = new Date(utcTime).toJSON();\n  return time ? datetime : datetime.slice(0, 10);\n}\n\nexport function utcToLocal(jsonDate) {\n  if (!jsonDate) {\n    return \"\";\n  }\n\n  // required format of `\"yyyy-MM-ddThh:mm\" followed by optional \":ss\" or \":ss.SSS\"\n  // https://html.spec.whatwg.org/multipage/input.html#local-date-and-time-state-(type%3Ddatetime-local)\n  // > should be a _valid local date and time string_ (not GMT)\n\n  // Note - date constructor passed local ISO-8601 does not correctly\n  // change time to UTC in node pre-8\n  const date = new Date(jsonDate);\n\n  const yyyy = pad(date.getFullYear(), 4);\n  const MM = pad(date.getMonth() + 1, 2);\n  const dd = pad(date.getDate(), 2);\n  const hh = pad(date.getHours(), 2);\n  const mm = pad(date.getMinutes(), 2);\n  const ss = pad(date.getSeconds(), 2);\n  const SSS = pad(date.getMilliseconds(), 3);\n\n  return `${yyyy}-${MM}-${dd}T${hh}:${mm}:${ss}.${SSS}`;\n}\n\nexport function localToUTC(dateString) {\n  if (dateString) {\n    return new Date(dateString).toJSON();\n  }\n}\n\nexport function pad(num, size) {\n  let s = String(num);\n  while (s.length < size) {\n    s = \"0\" + s;\n  }\n  return s;\n}\n\nexport function dataURItoBlob(dataURI) {\n  // Split metadata from data\n  const splitted = dataURI.split(\",\");\n  // Split params\n  const params = splitted[0].split(\";\");\n  // Get mime-type from params\n  const type = params[0].replace(\"data:\", \"\");\n  // Filter the name property from params\n  const properties = params.filter(param => {\n    return param.split(\"=\")[0] === \"name\";\n  });\n  // Look for the name and use unknown if no name property.\n  let name;\n  if (properties.length !== 1) {\n    name = \"unknown\";\n  } else {\n    // Because we filtered out the other property,\n    // we only have the name case here.\n    name = properties[0].split(\"=\")[1];\n  }\n\n  // Built the Uint8Array Blob parameter from the base64 string.\n  const binary = atob(splitted[1]);\n  const array = [];\n  for (let i = 0; i < binary.length; i++) {\n    array.push(binary.charCodeAt(i));\n  }\n  // Create the blob object\n  const blob = new window.Blob([new Uint8Array(array)], { type });\n\n  return { blob, name };\n}\n\nexport function rangeSpec(schema) {\n  const spec = {};\n  if (schema.multipleOf) {\n    spec.step = schema.multipleOf;\n  }\n  if (schema.minimum || schema.minimum === 0) {\n    spec.min = schema.minimum;\n  }\n  if (schema.maximum || schema.maximum === 0) {\n    spec.max = schema.maximum;\n  }\n  return spec;\n}\n\nexport function getMatchingOption(formData, options, rootSchema) {\n  // For performance, skip validating subschemas if formData is undefined. We just\n  // want to get the first option in that case.\n  if (formData === undefined) {\n    return 0;\n  }\n  for (let i = 0; i < options.length; i++) {\n    const option = options[i];\n\n    // If the schema describes an object then we need to add slightly more\n    // strict matching to the schema, because unless the schema uses the\n    // \"requires\" keyword, an object will match the schema as long as it\n    // doesn't have matching keys with a conflicting type. To do this we use an\n    // \"anyOf\" with an array of requires. This augmentation expresses that the\n    // schema should match if any of the keys in the schema are present on the\n    // object and pass validation.\n    if (option.properties) {\n      // Create an \"anyOf\" schema that requires at least one of the keys in the\n      // \"properties\" object\n      const requiresAnyOf = {\n        anyOf: Object.keys(option.properties).map(key => ({\n          required: [key],\n        })),\n      };\n\n      let augmentedSchema;\n\n      // If the \"anyOf\" keyword already exists, wrap the augmentation in an \"allOf\"\n      if (option.anyOf) {\n        // Create a shallow clone of the option\n        const { ...shallowClone } = option;\n\n        if (!shallowClone.allOf) {\n          shallowClone.allOf = [];\n        } else {\n          // If \"allOf\" already exists, shallow clone the array\n          shallowClone.allOf = shallowClone.allOf.slice();\n        }\n\n        shallowClone.allOf.push(requiresAnyOf);\n\n        augmentedSchema = shallowClone;\n      } else {\n        augmentedSchema = Object.assign({}, option, requiresAnyOf);\n      }\n\n      // Remove the \"required\" field as it's likely that not all fields have\n      // been filled in yet, which will mean that the schema is not valid\n      delete augmentedSchema.required;\n\n      if (isValid(augmentedSchema, formData, rootSchema)) {\n        return i;\n      }\n    } else if (isValid(option, formData, rootSchema)) {\n      return i;\n    }\n  }\n  return 0;\n}\n\n// Check to see if a schema specifies that a value must be true\nexport function schemaRequiresTrueValue(schema) {\n  // Check if const is a truthy value\n  if (schema.const) {\n    return true;\n  }\n\n  // Check if an enum has a single value of true\n  if (schema.enum && schema.enum.length === 1 && schema.enum[0] === true) {\n    return true;\n  }\n\n  // If anyOf has a single value, evaluate the subschema\n  if (schema.anyOf && schema.anyOf.length === 1) {\n    return schemaRequiresTrueValue(schema.anyOf[0]);\n  }\n\n  // If oneOf has a single value, evaluate the subschema\n  if (schema.oneOf && schema.oneOf.length === 1) {\n    return schemaRequiresTrueValue(schema.oneOf[0]);\n  }\n\n  // Evaluate each subschema in allOf, to see if one of them requires a true\n  // value\n  if (schema.allOf) {\n    return schema.allOf.some(schemaRequiresTrueValue);\n  }\n\n  return false;\n}\n","import AddButton from \"../AddButton\";\nimport IconButton from \"../IconButton\";\nimport React, { Component } from \"react\";\nimport includes from \"core-js-pure/es/array/includes\";\nimport * as types from \"../../types\";\n\nimport {\n  getWidget,\n  getDefaultFormState,\n  getUiOptions,\n  isMultiSelect,\n  isFilesArray,\n  isFixedItems,\n  allowAdditionalItems,\n  isCustomWidget,\n  optionsList,\n  retrieveSchema,\n  toIdSchema,\n} from \"../../utils\";\nimport { nanoid } from \"nanoid\";\n\nfunction ArrayFieldTitle({ TitleField, idSchema, title, required }) {\n  if (!title) {\n    return null;\n  }\n  const id = `${idSchema.$id}__title`;\n  return <TitleField id={id} title={title} required={required} />;\n}\n\nfunction ArrayFieldDescription({ DescriptionField, idSchema, description }) {\n  if (!description) {\n    return null;\n  }\n  const id = `${idSchema.$id}__description`;\n  return <DescriptionField id={id} description={description} />;\n}\n\n// Used in the two templates\nfunction DefaultArrayItem(props) {\n  const btnStyle = {\n    flex: 1,\n    paddingLeft: 6,\n    paddingRight: 6,\n    fontWeight: \"bold\",\n  };\n  return (\n    <div key={props.key} className={props.className}>\n      <div className={props.hasToolbar ? \"col-xs-9\" : \"col-xs-12\"}>\n        {props.children}\n      </div>\n\n      {props.hasToolbar && (\n        <div className=\"col-xs-3 array-item-toolbox\">\n          <div\n            className=\"btn-group\"\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-around\",\n            }}>\n            {(props.hasMoveUp || props.hasMoveDown) && (\n              <IconButton\n                icon=\"arrow-up\"\n                aria-label=\"Move up\"\n                className=\"array-item-move-up\"\n                tabIndex=\"-1\"\n                style={btnStyle}\n                disabled={props.disabled || props.readonly || !props.hasMoveUp}\n                onClick={props.onReorderClick(props.index, props.index - 1)}\n              />\n            )}\n\n            {(props.hasMoveUp || props.hasMoveDown) && (\n              <IconButton\n                icon=\"arrow-down\"\n                className=\"array-item-move-down\"\n                aria-label=\"Move down\"\n                tabIndex=\"-1\"\n                style={btnStyle}\n                disabled={\n                  props.disabled || props.readonly || !props.hasMoveDown\n                }\n                onClick={props.onReorderClick(props.index, props.index + 1)}\n              />\n            )}\n\n            {props.hasRemove && (\n              <IconButton\n                type=\"danger\"\n                icon=\"remove\"\n                aria-label=\"Remove\"\n                className=\"array-item-remove\"\n                tabIndex=\"-1\"\n                style={btnStyle}\n                disabled={props.disabled || props.readonly}\n                onClick={props.onDropIndexClick(props.index)}\n              />\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction DefaultFixedArrayFieldTemplate(props) {\n  return (\n    <fieldset className={props.className} id={props.idSchema.$id}>\n      <ArrayFieldTitle\n        key={`array-field-title-${props.idSchema.$id}`}\n        TitleField={props.TitleField}\n        idSchema={props.idSchema}\n        title={props.uiSchema[\"ui:title\"] || props.title}\n        required={props.required}\n      />\n\n      {(props.uiSchema[\"ui:description\"] || props.schema.description) && (\n        <div\n          className=\"field-description\"\n          key={`field-description-${props.idSchema.$id}`}>\n          {props.uiSchema[\"ui:description\"] || props.schema.description}\n        </div>\n      )}\n\n      <div\n        className=\"row array-item-list\"\n        key={`array-item-list-${props.idSchema.$id}`}>\n        {props.items && props.items.map(DefaultArrayItem)}\n      </div>\n\n      {props.canAdd && (\n        <AddButton\n          className=\"array-item-add\"\n          onClick={props.onAddClick}\n          disabled={props.disabled || props.readonly}\n        />\n      )}\n    </fieldset>\n  );\n}\n\nfunction DefaultNormalArrayFieldTemplate(props) {\n  return (\n    <fieldset className={props.className} id={props.idSchema.$id}>\n      <ArrayFieldTitle\n        key={`array-field-title-${props.idSchema.$id}`}\n        TitleField={props.TitleField}\n        idSchema={props.idSchema}\n        title={props.uiSchema[\"ui:title\"] || props.title}\n        required={props.required}\n      />\n\n      {(props.uiSchema[\"ui:description\"] || props.schema.description) && (\n        <ArrayFieldDescription\n          key={`array-field-description-${props.idSchema.$id}`}\n          DescriptionField={props.DescriptionField}\n          idSchema={props.idSchema}\n          description={\n            props.uiSchema[\"ui:description\"] || props.schema.description\n          }\n        />\n      )}\n\n      <div\n        className=\"row array-item-list\"\n        key={`array-item-list-${props.idSchema.$id}`}>\n        {props.items && props.items.map(p => DefaultArrayItem(p))}\n      </div>\n\n      {props.canAdd && (\n        <AddButton\n          className=\"array-item-add\"\n          onClick={props.onAddClick}\n          disabled={props.disabled || props.readonly}\n        />\n      )}\n    </fieldset>\n  );\n}\n\nfunction generateRowId() {\n  return nanoid();\n}\n\nfunction generateKeyedFormData(formData) {\n  return !Array.isArray(formData)\n    ? []\n    : formData.map(item => {\n        return {\n          key: generateRowId(),\n          item,\n        };\n      });\n}\n\nfunction keyedToPlainFormData(keyedFormData) {\n  return keyedFormData.map(keyedItem => keyedItem.item);\n}\n\nclass ArrayField extends Component {\n  static defaultProps = {\n    uiSchema: {},\n    formData: [],\n    idSchema: {},\n    required: false,\n    disabled: false,\n    readonly: false,\n    autofocus: false,\n  };\n\n  constructor(props) {\n    super(props);\n    const { formData } = props;\n    const keyedFormData = generateKeyedFormData(formData);\n    this.state = {\n      keyedFormData,\n      updatedKeyedFormData: false,\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    // Don't call getDerivedStateFromProps if keyed formdata was just updated.\n    if (prevState.updatedKeyedFormData) {\n      return {\n        updatedKeyedFormData: false,\n      };\n    }\n    const nextFormData = nextProps.formData || [];\n    const previousKeyedFormData = prevState.keyedFormData || [];\n    const newKeyedFormData =\n      nextFormData.length === previousKeyedFormData.length\n        ? previousKeyedFormData.map((previousKeyedFormDatum, index) => {\n            return {\n              key: previousKeyedFormDatum.key,\n              item: nextFormData[index],\n            };\n          })\n        : generateKeyedFormData(nextFormData);\n    return {\n      keyedFormData: newKeyedFormData,\n    };\n  }\n\n  get itemTitle() {\n    const { schema } = this.props;\n    return schema.items.title || schema.items.description || \"Item\";\n  }\n\n  isItemRequired(itemSchema) {\n    if (Array.isArray(itemSchema.type)) {\n      // While we don't yet support composite/nullable jsonschema types, it's\n      // future-proof to check for requirement against these.\n      return !includes(itemSchema.type, \"null\");\n    }\n    // All non-null array item types are inherently required by design\n    return itemSchema.type !== \"null\";\n  }\n\n  canAddItem(formItems) {\n    const { schema, uiSchema } = this.props;\n    let { addable } = getUiOptions(uiSchema);\n    if (addable !== false) {\n      // if ui:options.addable was not explicitly set to false, we can add\n      // another item if we have not exceeded maxItems yet\n      if (schema.maxItems !== undefined) {\n        addable = formItems.length < schema.maxItems;\n      } else {\n        addable = true;\n      }\n    }\n    return addable;\n  }\n\n  _getNewFormDataRow = () => {\n    const { schema, registry } = this.props;\n    const { rootSchema } = registry;\n    let itemSchema = schema.items;\n    if (isFixedItems(schema) && allowAdditionalItems(schema)) {\n      itemSchema = schema.additionalItems;\n    }\n    return getDefaultFormState(itemSchema, undefined, rootSchema);\n  };\n\n  onAddClick = event => {\n    if (event) {\n      event.preventDefault();\n    }\n\n    const { onChange } = this.props;\n    const newKeyedFormDataRow = {\n      key: generateRowId(),\n      item: this._getNewFormDataRow(),\n    };\n    const newKeyedFormData = [...this.state.keyedFormData, newKeyedFormDataRow];\n    this.setState(\n      {\n        keyedFormData: newKeyedFormData,\n        updatedKeyedFormData: true,\n      },\n      () => onChange(keyedToPlainFormData(newKeyedFormData))\n    );\n  };\n\n  onAddIndexClick = index => {\n    return event => {\n      if (event) {\n        event.preventDefault();\n      }\n      const { onChange } = this.props;\n      const newKeyedFormDataRow = {\n        key: generateRowId(),\n        item: this._getNewFormDataRow(),\n      };\n      let newKeyedFormData = [...this.state.keyedFormData];\n      newKeyedFormData.splice(index, 0, newKeyedFormDataRow);\n\n      this.setState(\n        {\n          keyedFormData: newKeyedFormData,\n          updatedKeyedFormData: true,\n        },\n        () => onChange(keyedToPlainFormData(newKeyedFormData))\n      );\n    };\n  };\n\n  onDropIndexClick = index => {\n    return event => {\n      if (event) {\n        event.preventDefault();\n      }\n      const { onChange } = this.props;\n      const { keyedFormData } = this.state;\n      // refs #195: revalidate to ensure properly reindexing errors\n      let newErrorSchema;\n      if (this.props.errorSchema) {\n        newErrorSchema = {};\n        const errorSchema = this.props.errorSchema;\n        for (let i in errorSchema) {\n          i = parseInt(i);\n          if (i < index) {\n            newErrorSchema[i] = errorSchema[i];\n          } else if (i > index) {\n            newErrorSchema[i - 1] = errorSchema[i];\n          }\n        }\n      }\n      const newKeyedFormData = keyedFormData.filter((_, i) => i !== index);\n      this.setState(\n        {\n          keyedFormData: newKeyedFormData,\n          updatedKeyedFormData: true,\n        },\n        () => onChange(keyedToPlainFormData(newKeyedFormData), newErrorSchema)\n      );\n    };\n  };\n\n  onReorderClick = (index, newIndex) => {\n    return event => {\n      if (event) {\n        event.preventDefault();\n        event.target.blur();\n      }\n      const { onChange } = this.props;\n      let newErrorSchema;\n      if (this.props.errorSchema) {\n        newErrorSchema = {};\n        const errorSchema = this.props.errorSchema;\n        for (let i in errorSchema) {\n          if (i == index) {\n            newErrorSchema[newIndex] = errorSchema[index];\n          } else if (i == newIndex) {\n            newErrorSchema[index] = errorSchema[newIndex];\n          } else {\n            newErrorSchema[i] = errorSchema[i];\n          }\n        }\n      }\n\n      const { keyedFormData } = this.state;\n      function reOrderArray() {\n        // Copy item\n        let _newKeyedFormData = keyedFormData.slice();\n\n        // Moves item from index to newIndex\n        _newKeyedFormData.splice(index, 1);\n        _newKeyedFormData.splice(newIndex, 0, keyedFormData[index]);\n\n        return _newKeyedFormData;\n      }\n      const newKeyedFormData = reOrderArray();\n      this.setState(\n        {\n          keyedFormData: newKeyedFormData,\n        },\n        () => onChange(keyedToPlainFormData(newKeyedFormData), newErrorSchema)\n      );\n    };\n  };\n\n  onChangeForIndex = index => {\n    return (value, errorSchema) => {\n      const { formData, onChange } = this.props;\n      const newFormData = formData.map((item, i) => {\n        // We need to treat undefined items as nulls to have validation.\n        // See https://github.com/tdegrunt/jsonschema/issues/206\n        const jsonValue = typeof value === \"undefined\" ? null : value;\n        return index === i ? jsonValue : item;\n      });\n      onChange(\n        newFormData,\n        errorSchema &&\n          this.props.errorSchema && {\n            ...this.props.errorSchema,\n            [index]: errorSchema,\n          }\n      );\n    };\n  };\n\n  onSelectChange = value => {\n    this.props.onChange(value);\n  };\n\n  render() {\n    const { schema, uiSchema, idSchema, registry } = this.props;\n    const { rootSchema } = registry;\n    if (!schema.hasOwnProperty(\"items\")) {\n      const { fields } = registry;\n      const { UnsupportedField } = fields;\n\n      return (\n        <UnsupportedField\n          schema={schema}\n          idSchema={idSchema}\n          reason=\"Missing items definition\"\n        />\n      );\n    }\n    if (isMultiSelect(schema, rootSchema)) {\n      // If array has enum or uniqueItems set to true, call renderMultiSelect() to render the default multiselect widget or a custom widget, if specified.\n      return this.renderMultiSelect();\n    }\n    if (isCustomWidget(uiSchema)) {\n      return this.renderCustomWidget();\n    }\n    if (isFixedItems(schema)) {\n      return this.renderFixedArray();\n    }\n    if (isFilesArray(schema, uiSchema, rootSchema)) {\n      return this.renderFiles();\n    }\n    return this.renderNormalArray();\n  }\n\n  renderNormalArray() {\n    const {\n      schema,\n      uiSchema,\n      errorSchema,\n      idSchema,\n      name,\n      required,\n      disabled,\n      readonly,\n      hideError,\n      autofocus,\n      registry,\n      onBlur,\n      onFocus,\n      idPrefix,\n      idSeparator = \"_\",\n      rawErrors,\n    } = this.props;\n    const title = schema.title === undefined ? name : schema.title;\n    const { ArrayFieldTemplate, rootSchema, fields, formContext } = registry;\n    const { TitleField, DescriptionField } = fields;\n    const itemsSchema = retrieveSchema(schema.items, rootSchema);\n    const formData = keyedToPlainFormData(this.state.keyedFormData);\n    const arrayProps = {\n      canAdd: this.canAddItem(formData),\n      items: this.state.keyedFormData.map((keyedItem, index) => {\n        const { key, item } = keyedItem;\n        const itemSchema = retrieveSchema(schema.items, rootSchema, item);\n        const itemErrorSchema = errorSchema ? errorSchema[index] : undefined;\n        const itemIdPrefix = idSchema.$id + idSeparator + index;\n        const itemIdSchema = toIdSchema(\n          itemSchema,\n          itemIdPrefix,\n          rootSchema,\n          item,\n          idPrefix,\n          idSeparator\n        );\n        return this.renderArrayFieldItem({\n          key,\n          index,\n          canMoveUp: index > 0,\n          canMoveDown: index < formData.length - 1,\n          itemSchema: itemSchema,\n          itemIdSchema,\n          itemErrorSchema,\n          itemData: item,\n          itemUiSchema: uiSchema.items,\n          autofocus: autofocus && index === 0,\n          onBlur,\n          onFocus,\n        });\n      }),\n      className: `field field-array field-array-of-${itemsSchema.type}`,\n      DescriptionField,\n      disabled,\n      idSchema,\n      uiSchema,\n      onAddClick: this.onAddClick,\n      readonly,\n      hideError,\n      required,\n      schema,\n      title,\n      TitleField,\n      formContext,\n      formData,\n      rawErrors,\n      registry,\n    };\n\n    // Check if a custom render function was passed in\n    const Component =\n      uiSchema[\"ui:ArrayFieldTemplate\"] ||\n      ArrayFieldTemplate ||\n      DefaultNormalArrayFieldTemplate;\n    return <Component {...arrayProps} />;\n  }\n\n  renderCustomWidget() {\n    const {\n      schema,\n      idSchema,\n      uiSchema,\n      disabled,\n      readonly,\n      hideError,\n      required,\n      placeholder,\n      autofocus,\n      onBlur,\n      onFocus,\n      formData: items,\n      registry,\n      rawErrors,\n      name,\n    } = this.props;\n    const { widgets, formContext } = registry;\n    const title = schema.title || name;\n\n    const { widget, ...options } = {\n      ...getUiOptions(uiSchema),\n    };\n    const Widget = getWidget(schema, widget, widgets);\n    return (\n      <Widget\n        id={idSchema && idSchema.$id}\n        multiple\n        onChange={this.onSelectChange}\n        onBlur={onBlur}\n        onFocus={onFocus}\n        options={options}\n        schema={schema}\n        uiSchema={uiSchema}\n        registry={registry}\n        value={items}\n        disabled={disabled}\n        readonly={readonly}\n        hideError={hideError}\n        required={required}\n        label={title}\n        placeholder={placeholder}\n        formContext={formContext}\n        autofocus={autofocus}\n        rawErrors={rawErrors}\n      />\n    );\n  }\n\n  renderMultiSelect() {\n    const {\n      schema,\n      idSchema,\n      uiSchema,\n      formData,\n      disabled,\n      readonly,\n      required,\n      placeholder,\n      autofocus,\n      onBlur,\n      onFocus,\n      registry,\n      rawErrors,\n      name,\n    } = this.props;\n    const items = this.props.formData;\n    const { widgets, rootSchema, formContext } = registry;\n    const itemsSchema = retrieveSchema(schema.items, rootSchema, formData);\n    const title = schema.title || name;\n    const enumOptions = optionsList(itemsSchema);\n    const { widget = \"select\", ...options } = {\n      ...getUiOptions(uiSchema),\n      enumOptions,\n    };\n    const Widget = getWidget(schema, widget, widgets);\n    return (\n      <Widget\n        id={idSchema && idSchema.$id}\n        multiple\n        onChange={this.onSelectChange}\n        onBlur={onBlur}\n        onFocus={onFocus}\n        options={options}\n        schema={schema}\n        uiSchema={uiSchema}\n        registry={registry}\n        value={items}\n        disabled={disabled}\n        readonly={readonly}\n        required={required}\n        label={title}\n        placeholder={placeholder}\n        formContext={formContext}\n        autofocus={autofocus}\n        rawErrors={rawErrors}\n      />\n    );\n  }\n\n  renderFiles() {\n    const {\n      schema,\n      uiSchema,\n      idSchema,\n      name,\n      disabled,\n      readonly,\n      autofocus,\n      onBlur,\n      onFocus,\n      registry,\n      rawErrors,\n    } = this.props;\n    const title = schema.title || name;\n    const items = this.props.formData;\n    const { widgets, formContext } = registry;\n    const { widget = \"files\", ...options } = getUiOptions(uiSchema);\n    const Widget = getWidget(schema, widget, widgets);\n    return (\n      <Widget\n        options={options}\n        id={idSchema && idSchema.$id}\n        multiple\n        onChange={this.onSelectChange}\n        onBlur={onBlur}\n        onFocus={onFocus}\n        schema={schema}\n        uiSchema={uiSchema}\n        title={title}\n        value={items}\n        disabled={disabled}\n        readonly={readonly}\n        registry={registry}\n        formContext={formContext}\n        autofocus={autofocus}\n        rawErrors={rawErrors}\n      />\n    );\n  }\n\n  renderFixedArray() {\n    const {\n      schema,\n      uiSchema,\n      formData,\n      errorSchema,\n      idPrefix,\n      idSeparator = \"_\",\n      idSchema,\n      name,\n      required,\n      disabled,\n      readonly,\n      autofocus,\n      registry,\n      onBlur,\n      onFocus,\n      rawErrors,\n    } = this.props;\n    const title = schema.title || name;\n    let items = this.props.formData;\n    const { ArrayFieldTemplate, rootSchema, fields, formContext } = registry;\n    const { TitleField } = fields;\n    const itemSchemas = schema.items.map((item, index) =>\n      retrieveSchema(item, rootSchema, formData[index])\n    );\n    const additionalSchema = allowAdditionalItems(schema)\n      ? retrieveSchema(schema.additionalItems, rootSchema, formData)\n      : null;\n\n    if (!items || items.length < itemSchemas.length) {\n      // to make sure at least all fixed items are generated\n      items = items || [];\n      items = items.concat(new Array(itemSchemas.length - items.length));\n    }\n\n    // These are the props passed into the render function\n    const arrayProps = {\n      canAdd: this.canAddItem(items) && additionalSchema,\n      className: \"field field-array field-array-fixed-items\",\n      disabled,\n      idSchema,\n      formData,\n      items: this.state.keyedFormData.map((keyedItem, index) => {\n        const { key, item } = keyedItem;\n        const additional = index >= itemSchemas.length;\n        const itemSchema = additional\n          ? retrieveSchema(schema.additionalItems, rootSchema, item)\n          : itemSchemas[index];\n        const itemIdPrefix = idSchema.$id + idSeparator + index;\n        const itemIdSchema = toIdSchema(\n          itemSchema,\n          itemIdPrefix,\n          rootSchema,\n          item,\n          idPrefix,\n          idSeparator\n        );\n        const itemUiSchema = additional\n          ? uiSchema.additionalItems || {}\n          : Array.isArray(uiSchema.items)\n          ? uiSchema.items[index]\n          : uiSchema.items || {};\n        const itemErrorSchema = errorSchema ? errorSchema[index] : undefined;\n\n        return this.renderArrayFieldItem({\n          key,\n          index,\n          canRemove: additional,\n          canMoveUp: index >= itemSchemas.length + 1,\n          canMoveDown: additional && index < items.length - 1,\n          itemSchema,\n          itemData: item,\n          itemUiSchema,\n          itemIdSchema,\n          itemErrorSchema,\n          autofocus: autofocus && index === 0,\n          onBlur,\n          onFocus,\n        });\n      }),\n      onAddClick: this.onAddClick,\n      readonly,\n      required,\n      registry,\n      schema,\n      uiSchema,\n      title,\n      TitleField,\n      formContext,\n      rawErrors,\n    };\n\n    // Check if a custom template template was passed in\n    const Template =\n      uiSchema[\"ui:ArrayFieldTemplate\"] ||\n      ArrayFieldTemplate ||\n      DefaultFixedArrayFieldTemplate;\n    return <Template {...arrayProps} />;\n  }\n\n  renderArrayFieldItem(props) {\n    const {\n      key,\n      index,\n      canRemove = true,\n      canMoveUp = true,\n      canMoveDown = true,\n      itemSchema,\n      itemData,\n      itemUiSchema,\n      itemIdSchema,\n      itemErrorSchema,\n      autofocus,\n      onBlur,\n      onFocus,\n      rawErrors,\n    } = props;\n    const { disabled, readonly, uiSchema, registry } = this.props;\n    const {\n      fields: { SchemaField },\n    } = registry;\n    const { orderable = true, removable = true } = getUiOptions(uiSchema);\n    const has = {\n      moveUp: orderable && canMoveUp,\n      moveDown: orderable && canMoveDown,\n      remove: removable && canRemove,\n    };\n    has.toolbar = Object.keys(has).some(key => has[key]);\n\n    return {\n      children: (\n        <SchemaField\n          index={index}\n          schema={itemSchema}\n          uiSchema={itemUiSchema}\n          formData={itemData}\n          errorSchema={itemErrorSchema}\n          idPrefix={this.props.idPrefix}\n          idSeparator={this.props.idSeparator}\n          idSchema={itemIdSchema}\n          required={this.isItemRequired(itemSchema)}\n          onChange={this.onChangeForIndex(index)}\n          onBlur={onBlur}\n          onFocus={onFocus}\n          registry={this.props.registry}\n          disabled={this.props.disabled}\n          readonly={this.props.readonly}\n          hideError={this.props.hideError}\n          autofocus={autofocus}\n          rawErrors={rawErrors}\n        />\n      ),\n      className: \"array-item\",\n      disabled,\n      hasToolbar: has.toolbar,\n      hasMoveUp: has.moveUp,\n      hasMoveDown: has.moveDown,\n      hasRemove: has.remove,\n      index,\n      key,\n      onAddIndexClick: this.onAddIndexClick,\n      onDropIndexClick: this.onDropIndexClick,\n      onReorderClick: this.onReorderClick,\n      readonly,\n    };\n  }\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  ArrayField.propTypes = types.fieldProps;\n}\n\nexport default ArrayField;\n","import React from \"react\";\nimport * as types from \"../../types\";\n\nimport { getWidget, getUiOptions, optionsList } from \"../../utils\";\n\nfunction BooleanField(props) {\n  const {\n    schema,\n    name,\n    uiSchema,\n    idSchema,\n    formData,\n    registry,\n    required,\n    disabled,\n    readonly,\n    autofocus,\n    onChange,\n    onFocus,\n    onBlur,\n    rawErrors,\n  } = props;\n  const { title } = schema;\n  const { widgets, formContext, fields } = registry;\n  const { widget = \"checkbox\", ...options } = getUiOptions(uiSchema);\n  const Widget = getWidget(schema, widget, widgets);\n\n  let enumOptions;\n\n  if (Array.isArray(schema.oneOf)) {\n    enumOptions = optionsList({\n      oneOf: schema.oneOf.map(option => ({\n        ...option,\n        title: option.title || (option.const === true ? \"Yes\" : \"No\"),\n      })),\n    });\n  } else {\n    enumOptions = optionsList({\n      enum: schema.enum || [true, false],\n      enumNames:\n        schema.enumNames ||\n        (schema.enum && schema.enum[0] === false\n          ? [\"No\", \"Yes\"]\n          : [\"Yes\", \"No\"]),\n    });\n  }\n\n  return (\n    <Widget\n      options={{ ...options, enumOptions }}\n      schema={schema}\n      uiSchema={uiSchema}\n      id={idSchema && idSchema.$id}\n      onChange={onChange}\n      onFocus={onFocus}\n      onBlur={onBlur}\n      label={title === undefined ? name : title}\n      value={formData}\n      required={required}\n      disabled={disabled}\n      readonly={readonly}\n      registry={registry}\n      formContext={formContext}\n      autofocus={autofocus}\n      rawErrors={rawErrors}\n      DescriptionField={fields.DescriptionField}\n    />\n  );\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  BooleanField.propTypes = types.fieldProps;\n}\n\nBooleanField.defaultProps = {\n  uiSchema: {},\n  disabled: false,\n  readonly: false,\n  autofocus: false,\n};\n\nexport default BooleanField;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction DescriptionField(props) {\n  const { id, description } = props;\n  if (!description) {\n    return null;\n  }\n  if (typeof description === \"string\") {\n    return (\n      <p id={id} className=\"field-description\">\n        {description}\n      </p>\n    );\n  } else {\n    return (\n      <div id={id} className=\"field-description\">\n        {description}\n      </div>\n    );\n  }\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  DescriptionField.propTypes = {\n    id: PropTypes.string,\n    description: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  };\n}\n\nexport default DescriptionField;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport * as types from \"../../types\";\nimport {\n  getUiOptions,\n  getWidget,\n  guessType,\n  retrieveSchema,\n  getDefaultFormState,\n  getMatchingOption,\n  deepEquals,\n} from \"../../utils\";\n\nclass AnyOfField extends Component {\n  constructor(props) {\n    super(props);\n\n    const { formData, options } = this.props;\n\n    this.state = {\n      selectedOption: this.getMatchingOption(formData, options),\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      !deepEquals(this.props.formData, prevProps.formData) &&\n      this.props.idSchema.$id === prevProps.idSchema.$id\n    ) {\n      const matchingOption = this.getMatchingOption(\n        this.props.formData,\n        this.props.options\n      );\n\n      if (!prevState || matchingOption === this.state.selectedOption) {\n        return;\n      }\n\n      this.setState({\n        selectedOption: matchingOption,\n      });\n    }\n  }\n\n  getMatchingOption(formData, options) {\n    const { rootSchema } = this.props.registry;\n\n    let option = getMatchingOption(formData, options, rootSchema);\n    if (option !== 0) {\n      return option;\n    }\n    // If the form data matches none of the options, use the currently selected\n    // option, assuming it's available; otherwise use the first option\n    return this && this.state ? this.state.selectedOption : 0;\n  }\n\n  onOptionChange = option => {\n    const selectedOption = parseInt(option, 10);\n    const { formData, onChange, options, registry } = this.props;\n    const { rootSchema } = registry;\n    const newOption = retrieveSchema(\n      options[selectedOption],\n      rootSchema,\n      formData\n    );\n\n    // If the new option is of type object and the current data is an object,\n    // discard properties added using the old option.\n    let newFormData = undefined;\n    if (\n      guessType(formData) === \"object\" &&\n      (newOption.type === \"object\" || newOption.properties)\n    ) {\n      newFormData = Object.assign({}, formData);\n\n      const optionsToDiscard = options.slice();\n      optionsToDiscard.splice(selectedOption, 1);\n\n      // Discard any data added using other options\n      for (const option of optionsToDiscard) {\n        if (option.properties) {\n          for (const key in option.properties) {\n            if (newFormData.hasOwnProperty(key)) {\n              delete newFormData[key];\n            }\n          }\n        }\n      }\n    }\n    // Call getDefaultFormState to make sure defaults are populated on change.\n    onChange(\n      getDefaultFormState(options[selectedOption], newFormData, rootSchema)\n    );\n\n    this.setState({\n      selectedOption: parseInt(option, 10),\n    });\n  };\n\n  render() {\n    const {\n      baseType,\n      disabled,\n      readonly,\n      hideError,\n      errorSchema,\n      formData,\n      idPrefix,\n      idSeparator,\n      idSchema,\n      onBlur,\n      onChange,\n      onFocus,\n      options,\n      registry,\n      uiSchema,\n      schema,\n    } = this.props;\n\n    const _SchemaField = registry.fields.SchemaField;\n    const { widgets } = registry;\n    const { selectedOption } = this.state;\n    const { widget = \"select\", ...uiOptions } = getUiOptions(uiSchema);\n    const Widget = getWidget({ type: \"number\" }, widget, widgets);\n\n    const option = options[selectedOption] || null;\n    let optionSchema;\n\n    if (option) {\n      // If the subschema doesn't declare a type, infer the type from the\n      // parent schema\n      optionSchema = option.type\n        ? option\n        : Object.assign({}, option, { type: baseType });\n    }\n\n    const enumOptions = options.map((option, index) => ({\n      label: option.title || `Option ${index + 1}`,\n      value: index,\n    }));\n\n    return (\n      <div className=\"panel panel-default panel-body\">\n        <div className=\"form-group\">\n          <Widget\n            id={`${idSchema.$id}${\n              schema.oneOf ? \"__oneof_select\" : \"__anyof_select\"\n            }`}\n            schema={{ type: \"number\", default: 0 }}\n            onChange={this.onOptionChange}\n            onBlur={onBlur}\n            onFocus={onFocus}\n            value={selectedOption}\n            options={{ enumOptions }}\n            registry={registry}\n            {...uiOptions}\n          />\n        </div>\n\n        {option !== null && (\n          <_SchemaField\n            schema={optionSchema}\n            uiSchema={uiSchema}\n            errorSchema={errorSchema}\n            idSchema={idSchema}\n            idPrefix={idPrefix}\n            idSeparator={idSeparator}\n            formData={formData}\n            onChange={onChange}\n            onBlur={onBlur}\n            onFocus={onFocus}\n            registry={registry}\n            disabled={disabled}\n            readonly={readonly}\n            hideError={hideError}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nAnyOfField.defaultProps = {\n  disabled: false,\n  readonly: false,\n  hideError: false,\n  errorSchema: {},\n  idSchema: {},\n  uiSchema: {},\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  AnyOfField.propTypes = {\n    options: PropTypes.arrayOf(PropTypes.object).isRequired,\n    baseType: PropTypes.string,\n    uiSchema: PropTypes.object,\n    idSchema: PropTypes.object,\n    formData: PropTypes.any,\n    errorSchema: PropTypes.object,\n    registry: types.registry.isRequired,\n  };\n}\n\nexport default AnyOfField;\n","import React from \"react\";\n\nimport * as types from \"../../types\";\nimport { asNumber } from \"../../utils\";\n\n// Matches a string that ends in a . character, optionally followed by a sequence of\n// digits followed by any number of 0 characters up until the end of the line.\n// Ensuring that there is at least one prefixed character is important so that\n// you don't incorrectly match against \"0\".\nconst trailingCharMatcherWithPrefix = /\\.([0-9]*0)*$/;\n\n// This is used for trimming the trailing 0 and . characters without affecting\n// the rest of the string. Its possible to use one RegEx with groups for this\n// functionality, but it is fairly complex compared to simply defining two\n// different matchers.\nconst trailingCharMatcher = /[0.]0*$/;\n\n/**\n * The NumberField class has some special handling for dealing with trailing\n * decimal points and/or zeroes. This logic is designed to allow trailing values\n * to be visible in the input element, but not be represented in the\n * corresponding form data.\n *\n * The algorithm is as follows:\n *\n * 1. When the input value changes the value is cached in the component state\n *\n * 2. The value is then normalized, removing trailing decimal points and zeros,\n *    then passed to the \"onChange\" callback\n *\n * 3. When the component is rendered, the formData value is checked against the\n *    value cached in the state. If it matches the cached value, the cached\n *    value is passed to the input instead of the formData value\n */\nclass NumberField extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      lastValue: props.value,\n    };\n  }\n\n  handleChange = value => {\n    // Cache the original value in component state\n    this.setState({ lastValue: value });\n\n    // Normalize decimals that don't start with a zero character in advance so\n    // that the rest of the normalization logic is simpler\n    if (`${value}`.charAt(0) === \".\") {\n      value = `0${value}`;\n    }\n\n    // Check that the value is a string (this can happen if the widget used is a\n    // <select>, due to an enum declaration etc) then, if the value ends in a\n    // trailing decimal point or multiple zeroes, strip the trailing values\n    let processed =\n      typeof value === \"string\" && value.match(trailingCharMatcherWithPrefix)\n        ? asNumber(value.replace(trailingCharMatcher, \"\"))\n        : asNumber(value);\n\n    this.props.onChange(processed);\n  };\n\n  render() {\n    const { StringField } = this.props.registry.fields;\n    const { formData, ...props } = this.props;\n    const { lastValue } = this.state;\n\n    let value = formData;\n\n    if (typeof lastValue === \"string\" && typeof value === \"number\") {\n      // Construct a regular expression that checks for a string that consists\n      // of the formData value suffixed with zero or one '.' characters and zero\n      // or more '0' characters\n      const re = new RegExp(`${value}`.replace(\".\", \"\\\\.\") + \"\\\\.?0*$\");\n\n      // If the cached \"lastValue\" is a match, use that instead of the formData\n      // value to prevent the input value from changing in the UI\n      if (lastValue.match(re)) {\n        value = lastValue;\n      }\n    }\n\n    return (\n      <StringField {...props} formData={value} onChange={this.handleChange} />\n    );\n  }\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  NumberField.propTypes = types.fieldProps;\n}\n\nNumberField.defaultProps = {\n  uiSchema: {},\n};\n\nexport default NumberField;\n","import AddButton from \"../AddButton\";\nimport React, { Component } from \"react\";\nimport * as types from \"../../types\";\n\nimport {\n  orderProperties,\n  retrieveSchema,\n  canExpand,\n  ADDITIONAL_PROPERTY_FLAG,\n} from \"../../utils\";\n\nfunction DefaultObjectFieldTemplate(props) {\n  const { TitleField, DescriptionField } = props;\n  return (\n    <fieldset id={props.idSchema.$id}>\n      {(props.uiSchema[\"ui:title\"] || props.title) && (\n        <TitleField\n          id={`${props.idSchema.$id}__title`}\n          title={props.title || props.uiSchema[\"ui:title\"]}\n          required={props.required}\n          formContext={props.formContext}\n        />\n      )}\n      {props.description && (\n        <DescriptionField\n          id={`${props.idSchema.$id}__description`}\n          description={props.description}\n          formContext={props.formContext}\n        />\n      )}\n      {props.properties.map(prop => prop.content)}\n      {canExpand(props.schema, props.uiSchema, props.formData) && (\n        <AddButton\n          className=\"object-property-expand\"\n          onClick={props.onAddClick(props.schema)}\n          disabled={props.disabled || props.readonly}\n        />\n      )}\n    </fieldset>\n  );\n}\n\nclass ObjectField extends Component {\n  static defaultProps = {\n    uiSchema: {},\n    formData: {},\n    errorSchema: {},\n    idSchema: {},\n    required: false,\n    disabled: false,\n    readonly: false,\n  };\n\n  state = {\n    wasPropertyKeyModified: false,\n    additionalProperties: {},\n  };\n\n  isRequired(name) {\n    const schema = this.props.schema;\n    return (\n      Array.isArray(schema.required) && schema.required.indexOf(name) !== -1\n    );\n  }\n\n  onPropertyChange = (name, addedByAdditionalProperties = false) => {\n    return (value, errorSchema) => {\n      if (value === undefined && addedByAdditionalProperties) {\n        // Don't set value = undefined for fields added by\n        // additionalProperties. Doing so removes them from the\n        // formData, which causes them to completely disappear\n        // (including the input field for the property name). Unlike\n        // fields which are \"mandated\" by the schema, these fields can\n        // be set to undefined by clicking a \"delete field\" button, so\n        // set empty values to the empty string.\n        value = \"\";\n      }\n      const newFormData = { ...this.props.formData, [name]: value };\n      this.props.onChange(\n        newFormData,\n        errorSchema &&\n          this.props.errorSchema && {\n            ...this.props.errorSchema,\n            [name]: errorSchema,\n          }\n      );\n    };\n  };\n\n  onDropPropertyClick = key => {\n    return event => {\n      event.preventDefault();\n      const { onChange, formData } = this.props;\n      const copiedFormData = { ...formData };\n      delete copiedFormData[key];\n      onChange(copiedFormData);\n    };\n  };\n\n  getAvailableKey = (preferredKey, formData) => {\n    var index = 0;\n    var newKey = preferredKey;\n    while (formData.hasOwnProperty(newKey)) {\n      newKey = `${preferredKey}-${++index}`;\n    }\n    return newKey;\n  };\n\n  onKeyChange = oldValue => {\n    return (value, errorSchema) => {\n      if (oldValue === value) {\n        return;\n      }\n\n      value = this.getAvailableKey(value, this.props.formData);\n      const newFormData = { ...this.props.formData };\n      const newKeys = { [oldValue]: value };\n      const keyValues = Object.keys(newFormData).map(key => {\n        const newKey = newKeys[key] || key;\n        return { [newKey]: newFormData[key] };\n      });\n      const renamedObj = Object.assign({}, ...keyValues);\n\n      this.setState({ wasPropertyKeyModified: true });\n\n      this.props.onChange(\n        renamedObj,\n        errorSchema &&\n          this.props.errorSchema && {\n            ...this.props.errorSchema,\n            [value]: errorSchema,\n          }\n      );\n    };\n  };\n\n  getDefaultValue(type) {\n    switch (type) {\n      case \"string\":\n        return \"New Value\";\n      case \"array\":\n        return [];\n      case \"boolean\":\n        return false;\n      case \"null\":\n        return null;\n      case \"number\":\n        return 0;\n      case \"object\":\n        return {};\n      default:\n        // We don't have a datatype for some reason (perhaps additionalProperties was true)\n        return \"New Value\";\n    }\n  }\n\n  handleAddClick = schema => () => {\n    let type = schema.additionalProperties.type;\n    const newFormData = { ...this.props.formData };\n\n    if (schema.additionalProperties.hasOwnProperty(\"$ref\")) {\n      const { registry } = this.props;\n      const refSchema = retrieveSchema(\n        { $ref: schema.additionalProperties[\"$ref\"] },\n        registry.rootSchema,\n        this.props.formData\n      );\n\n      type = refSchema.type;\n    }\n\n    newFormData[\n      this.getAvailableKey(\"newKey\", newFormData)\n    ] = this.getDefaultValue(type);\n\n    this.props.onChange(newFormData);\n  };\n\n  render() {\n    const {\n      uiSchema,\n      formData,\n      errorSchema,\n      idSchema,\n      name,\n      required,\n      disabled,\n      readonly,\n      hideError,\n      idPrefix,\n      idSeparator,\n      onBlur,\n      onFocus,\n      registry,\n    } = this.props;\n\n    const { rootSchema, fields, formContext } = registry;\n    const { SchemaField, TitleField, DescriptionField } = fields;\n    const schema = retrieveSchema(this.props.schema, rootSchema, formData);\n\n    const title = schema.title === undefined ? name : schema.title;\n    const description = uiSchema[\"ui:description\"] || schema.description;\n    let orderedProperties;\n    try {\n      const properties = Object.keys(schema.properties || {});\n      orderedProperties = orderProperties(properties, uiSchema[\"ui:order\"]);\n    } catch (err) {\n      return (\n        <div>\n          <p className=\"config-error\" style={{ color: \"red\" }}>\n            Invalid {name || \"root\"} object field configuration:\n            <em>{err.message}</em>.\n          </p>\n          <pre>{JSON.stringify(schema)}</pre>\n        </div>\n      );\n    }\n\n    const Template =\n      uiSchema[\"ui:ObjectFieldTemplate\"] ||\n      registry.ObjectFieldTemplate ||\n      DefaultObjectFieldTemplate;\n\n    const templateProps = {\n      title: uiSchema[\"ui:title\"] || title,\n      description,\n      TitleField,\n      DescriptionField,\n      properties: orderedProperties.map(name => {\n        const addedByAdditionalProperties = schema.properties[\n          name\n        ].hasOwnProperty(ADDITIONAL_PROPERTY_FLAG);\n        const fieldUiSchema = addedByAdditionalProperties\n          ? uiSchema.additionalProperties\n          : uiSchema[name];\n        const hidden = fieldUiSchema && fieldUiSchema[\"ui:widget\"] === \"hidden\";\n\n        return {\n          content: (\n            <SchemaField\n              key={name}\n              name={name}\n              required={this.isRequired(name)}\n              schema={schema.properties[name]}\n              uiSchema={fieldUiSchema}\n              errorSchema={errorSchema[name]}\n              idSchema={idSchema[name]}\n              idPrefix={idPrefix}\n              idSeparator={idSeparator}\n              formData={(formData || {})[name]}\n              wasPropertyKeyModified={this.state.wasPropertyKeyModified}\n              onKeyChange={this.onKeyChange(name)}\n              onChange={this.onPropertyChange(\n                name,\n                addedByAdditionalProperties\n              )}\n              onBlur={onBlur}\n              onFocus={onFocus}\n              registry={registry}\n              disabled={disabled}\n              readonly={readonly}\n              hideError={hideError}\n              onDropPropertyClick={this.onDropPropertyClick}\n            />\n          ),\n          name,\n          readonly,\n          disabled,\n          required,\n          hidden,\n        };\n      }),\n      readonly,\n      disabled,\n      required,\n      idSchema,\n      uiSchema,\n      schema,\n      formData,\n      formContext,\n      registry,\n    };\n    return <Template {...templateProps} onAddClick={this.handleAddClick} />;\n  }\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  ObjectField.propTypes = types.fieldProps;\n}\n\nexport default ObjectField;\n","import IconButton from \"../IconButton\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport * as types from \"../../types\";\n\nimport {\n  ADDITIONAL_PROPERTY_FLAG,\n  isSelect,\n  retrieveSchema,\n  toIdSchema,\n  mergeObjects,\n  deepEquals,\n  getSchemaType,\n  getDisplayLabel,\n} from \"../../utils\";\n\nconst REQUIRED_FIELD_SYMBOL = \"*\";\nconst COMPONENT_TYPES = {\n  array: \"ArrayField\",\n  boolean: \"BooleanField\",\n  integer: \"NumberField\",\n  number: \"NumberField\",\n  object: \"ObjectField\",\n  string: \"StringField\",\n  null: \"NullField\",\n};\n\nfunction getFieldComponent(schema, uiSchema, idSchema, fields) {\n  const field = uiSchema[\"ui:field\"];\n  if (typeof field === \"function\") {\n    return field;\n  }\n  if (typeof field === \"string\" && field in fields) {\n    return fields[field];\n  }\n\n  const componentName = COMPONENT_TYPES[getSchemaType(schema)];\n\n  // If the type is not defined and the schema uses 'anyOf' or 'oneOf', don't\n  // render a field and let the MultiSchemaField component handle the form display\n  if (!componentName && (schema.anyOf || schema.oneOf)) {\n    return () => null;\n  }\n\n  return componentName in fields\n    ? fields[componentName]\n    : () => {\n        const { UnsupportedField } = fields;\n\n        return (\n          <UnsupportedField\n            schema={schema}\n            idSchema={idSchema}\n            reason={`Unknown field type ${schema.type}`}\n          />\n        );\n      };\n}\n\nfunction Label(props) {\n  const { label, required, id } = props;\n  if (!label) {\n    return null;\n  }\n  return (\n    <label className=\"control-label\" htmlFor={id}>\n      {label}\n      {required && <span className=\"required\">{REQUIRED_FIELD_SYMBOL}</span>}\n    </label>\n  );\n}\n\nfunction LabelInput(props) {\n  const { id, label, onChange } = props;\n  return (\n    <input\n      className=\"form-control\"\n      type=\"text\"\n      id={id}\n      onBlur={event => onChange(event.target.value)}\n      defaultValue={label}\n    />\n  );\n}\n\nfunction Help(props) {\n  const { id, help } = props;\n  if (!help) {\n    return null;\n  }\n  if (typeof help === \"string\") {\n    return (\n      <p id={id} className=\"help-block\">\n        {help}\n      </p>\n    );\n  }\n  return (\n    <div id={id} className=\"help-block\">\n      {help}\n    </div>\n  );\n}\n\nfunction ErrorList(props) {\n  const { errors = [] } = props;\n  if (errors.length === 0) {\n    return null;\n  }\n\n  return (\n    <div>\n      <ul className=\"error-detail bs-callout bs-callout-info\">\n        {errors\n          .filter(elem => !!elem)\n          .map((error, index) => {\n            return (\n              <li className=\"text-danger\" key={index}>\n                {error}\n              </li>\n            );\n          })}\n      </ul>\n    </div>\n  );\n}\nfunction DefaultTemplate(props) {\n  const {\n    id,\n    label,\n    children,\n    errors,\n    help,\n    description,\n    hidden,\n    required,\n    displayLabel,\n  } = props;\n  if (hidden) {\n    return <div className=\"hidden\">{children}</div>;\n  }\n\n  return (\n    <WrapIfAdditional {...props}>\n      {displayLabel && <Label label={label} required={required} id={id} />}\n      {displayLabel && description ? description : null}\n      {children}\n      {errors}\n      {help}\n    </WrapIfAdditional>\n  );\n}\nif (process.env.NODE_ENV !== \"production\") {\n  DefaultTemplate.propTypes = {\n    id: PropTypes.string,\n    classNames: PropTypes.string,\n    label: PropTypes.string,\n    children: PropTypes.node.isRequired,\n    errors: PropTypes.element,\n    rawErrors: PropTypes.arrayOf(PropTypes.string),\n    help: PropTypes.element,\n    rawHelp: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    description: PropTypes.element,\n    rawDescription: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    hidden: PropTypes.bool,\n    required: PropTypes.bool,\n    readonly: PropTypes.bool,\n    displayLabel: PropTypes.bool,\n    fields: PropTypes.object,\n    formContext: PropTypes.object,\n  };\n}\n\nDefaultTemplate.defaultProps = {\n  hidden: false,\n  readonly: false,\n  required: false,\n  displayLabel: true,\n};\n\nfunction WrapIfAdditional(props) {\n  const {\n    id,\n    classNames,\n    disabled,\n    label,\n    onKeyChange,\n    onDropPropertyClick,\n    readonly,\n    required,\n    schema,\n  } = props;\n  const keyLabel = `${label} Key`; // i18n ?\n  const additional = schema.hasOwnProperty(ADDITIONAL_PROPERTY_FLAG);\n\n  if (!additional) {\n    return <div className={classNames}>{props.children}</div>;\n  }\n\n  return (\n    <div className={classNames}>\n      <div className=\"row\">\n        <div className=\"col-xs-5 form-additional\">\n          <div className=\"form-group\">\n            <Label label={keyLabel} required={required} id={`${id}-key`} />\n            <LabelInput\n              label={label}\n              required={required}\n              id={`${id}-key`}\n              onChange={onKeyChange}\n            />\n          </div>\n        </div>\n        <div className=\"form-additional form-group col-xs-5\">\n          {props.children}\n        </div>\n        <div className=\"col-xs-2\">\n          <IconButton\n            type=\"danger\"\n            icon=\"remove\"\n            className=\"array-item-remove btn-block\"\n            tabIndex=\"-1\"\n            style={{ border: \"0\" }}\n            disabled={disabled || readonly}\n            onClick={onDropPropertyClick(label)}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction SchemaFieldRender(props) {\n  const {\n    uiSchema,\n    formData,\n    errorSchema,\n    idPrefix,\n    idSeparator,\n    name,\n    onChange,\n    onKeyChange,\n    onDropPropertyClick,\n    required,\n    registry,\n    wasPropertyKeyModified = false,\n  } = props;\n  const { rootSchema, fields, formContext } = registry;\n  const FieldTemplate =\n    uiSchema[\"ui:FieldTemplate\"] || registry.FieldTemplate || DefaultTemplate;\n  let idSchema = props.idSchema;\n  const schema = retrieveSchema(props.schema, rootSchema, formData);\n  idSchema = mergeObjects(\n    toIdSchema(schema, null, rootSchema, formData, idPrefix, idSeparator),\n    idSchema\n  );\n  const FieldComponent = getFieldComponent(schema, uiSchema, idSchema, fields);\n  const { DescriptionField } = fields;\n  const disabled = Boolean(props.disabled || uiSchema[\"ui:disabled\"]);\n  const readonly = Boolean(\n    props.readonly ||\n      uiSchema[\"ui:readonly\"] ||\n      props.schema.readOnly ||\n      schema.readOnly\n  );\n  const uiSchemaHideError = uiSchema[\"ui:hideError\"];\n  // Set hideError to the value provided in the uiSchema, otherwise stick with the prop to propagate to children\n  const hideError =\n    uiSchemaHideError === undefined\n      ? props.hideError\n      : Boolean(uiSchemaHideError);\n  const autofocus = Boolean(props.autofocus || uiSchema[\"ui:autofocus\"]);\n  if (Object.keys(schema).length === 0) {\n    return null;\n  }\n\n  const displayLabel = getDisplayLabel(schema, uiSchema, rootSchema);\n\n  const { __errors, ...fieldErrorSchema } = errorSchema;\n\n  // See #439: uiSchema: Don't pass consumed class names to child components\n  const field = (\n    <FieldComponent\n      {...props}\n      idSchema={idSchema}\n      schema={schema}\n      uiSchema={{ ...uiSchema, classNames: undefined }}\n      disabled={disabled}\n      readonly={readonly}\n      hideError={hideError}\n      autofocus={autofocus}\n      errorSchema={fieldErrorSchema}\n      formContext={formContext}\n      rawErrors={__errors}\n    />\n  );\n\n  const id = idSchema.$id;\n\n  // If this schema has a title defined, but the user has set a new key/label, retain their input.\n  let label;\n  if (wasPropertyKeyModified) {\n    label = name;\n  } else {\n    label = uiSchema[\"ui:title\"] || props.schema.title || schema.title || name;\n  }\n\n  const description =\n    uiSchema[\"ui:description\"] ||\n    props.schema.description ||\n    schema.description;\n  const errors = __errors;\n  const help = uiSchema[\"ui:help\"];\n  const hidden = uiSchema[\"ui:widget\"] === \"hidden\";\n\n  let classNames = [\"form-group\", \"field\", `field-${schema.type}`];\n  if (!hideError && errors && errors.length > 0) {\n    classNames.push(\"field-error has-error has-danger\");\n  }\n  classNames.push(uiSchema.classNames);\n  classNames = classNames.join(\" \").trim();\n\n  const fieldProps = {\n    description: (\n      <DescriptionField\n        id={id + \"__description\"}\n        description={description}\n        formContext={formContext}\n      />\n    ),\n    rawDescription: description,\n    help: <Help id={id + \"__help\"} help={help} />,\n    rawHelp: typeof help === \"string\" ? help : undefined,\n    errors: hideError ? undefined : <ErrorList errors={errors} />,\n    rawErrors: hideError ? undefined : errors,\n    id,\n    label,\n    hidden,\n    onChange,\n    onKeyChange,\n    onDropPropertyClick,\n    required,\n    disabled,\n    readonly,\n    hideError,\n    displayLabel,\n    classNames,\n    formContext,\n    formData,\n    fields,\n    schema,\n    uiSchema,\n    registry,\n  };\n\n  const _AnyOfField = registry.fields.AnyOfField;\n  const _OneOfField = registry.fields.OneOfField;\n\n  return (\n    <FieldTemplate {...fieldProps}>\n      <React.Fragment>\n        {field}\n\n        {/*\n        If the schema `anyOf` or 'oneOf' can be rendered as a select control, don't\n        render the selection and let `StringField` component handle\n        rendering\n      */}\n        {schema.anyOf && !isSelect(schema) && (\n          <_AnyOfField\n            disabled={disabled}\n            readonly={readonly}\n            hideError={hideError}\n            errorSchema={errorSchema}\n            formData={formData}\n            idPrefix={idPrefix}\n            idSchema={idSchema}\n            idSeparator={idSeparator}\n            onBlur={props.onBlur}\n            onChange={props.onChange}\n            onFocus={props.onFocus}\n            options={schema.anyOf.map(_schema =>\n              retrieveSchema(_schema, rootSchema, formData)\n            )}\n            baseType={schema.type}\n            registry={registry}\n            schema={schema}\n            uiSchema={uiSchema}\n          />\n        )}\n\n        {schema.oneOf && !isSelect(schema) && (\n          <_OneOfField\n            disabled={disabled}\n            readonly={readonly}\n            hideError={hideError}\n            errorSchema={errorSchema}\n            formData={formData}\n            idPrefix={idPrefix}\n            idSchema={idSchema}\n            idSeparator={idSeparator}\n            onBlur={props.onBlur}\n            onChange={props.onChange}\n            onFocus={props.onFocus}\n            options={schema.oneOf.map(_schema =>\n              retrieveSchema(_schema, rootSchema, formData)\n            )}\n            baseType={schema.type}\n            registry={registry}\n            schema={schema}\n            uiSchema={uiSchema}\n          />\n        )}\n      </React.Fragment>\n    </FieldTemplate>\n  );\n}\n\nclass SchemaField extends React.Component {\n  shouldComponentUpdate(nextProps, nextState) {\n    return !deepEquals(this.props, nextProps);\n  }\n\n  render() {\n    return SchemaFieldRender(this.props);\n  }\n}\n\nSchemaField.defaultProps = {\n  uiSchema: {},\n  errorSchema: {},\n  idSchema: {},\n  disabled: false,\n  readonly: false,\n  autofocus: false,\n  hideError: false,\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  SchemaField.propTypes = {\n    schema: PropTypes.object.isRequired,\n    uiSchema: PropTypes.object,\n    idSchema: PropTypes.object,\n    formData: PropTypes.any,\n    errorSchema: PropTypes.object,\n    registry: types.registry.isRequired,\n  };\n}\n\nexport default SchemaField;\n","import React from \"react\";\nimport * as types from \"../../types\";\n\nimport {\n  getWidget,\n  getUiOptions,\n  isSelect,\n  optionsList,\n  hasWidget,\n} from \"../../utils\";\n\nfunction StringField(props) {\n  const {\n    schema,\n    name,\n    uiSchema,\n    idSchema,\n    formData,\n    required,\n    disabled,\n    readonly,\n    autofocus,\n    onChange,\n    onBlur,\n    onFocus,\n    registry,\n    rawErrors,\n  } = props;\n  const { title, format } = schema;\n  const { widgets, formContext } = registry;\n  const enumOptions = isSelect(schema) && optionsList(schema);\n  let defaultWidget = enumOptions ? \"select\" : \"text\";\n  if (format && hasWidget(schema, format, widgets)) {\n    defaultWidget = format;\n  }\n  const { widget = defaultWidget, placeholder = \"\", ...options } = getUiOptions(\n    uiSchema\n  );\n  const Widget = getWidget(schema, widget, widgets);\n  return (\n    <Widget\n      options={{ ...options, enumOptions }}\n      schema={schema}\n      uiSchema={uiSchema}\n      id={idSchema && idSchema.$id}\n      label={title === undefined ? name : title}\n      value={formData}\n      onChange={onChange}\n      onBlur={onBlur}\n      onFocus={onFocus}\n      required={required}\n      disabled={disabled}\n      readonly={readonly}\n      formContext={formContext}\n      autofocus={autofocus}\n      registry={registry}\n      placeholder={placeholder}\n      rawErrors={rawErrors}\n    />\n  );\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  StringField.propTypes = types.fieldProps;\n}\n\nStringField.defaultProps = {\n  uiSchema: {},\n  disabled: false,\n  readonly: false,\n  autofocus: false,\n};\n\nexport default StringField;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst REQUIRED_FIELD_SYMBOL = \"*\";\n\nfunction TitleField(props) {\n  const { id, title, required } = props;\n  return (\n    <legend id={id}>\n      {title}\n      {required && <span className=\"required\">{REQUIRED_FIELD_SYMBOL}</span>}\n    </legend>\n  );\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  TitleField.propTypes = {\n    id: PropTypes.string,\n    title: PropTypes.string,\n    required: PropTypes.bool,\n  };\n}\n\nexport default TitleField;\n","import { Component } from \"react\";\nimport * as types from \"../../types\";\n\nclass NullField extends Component {\n  componentDidMount() {\n    if (this.props.formData === undefined) {\n      this.props.onChange(null);\n    }\n  }\n\n  render() {\n    return null;\n  }\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  NullField.propTypes = types.fieldProps;\n}\n\nexport default NullField;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction UnsupportedField({ schema, idSchema, reason }) {\n  return (\n    <div className=\"unsupported-field\">\n      <p>\n        Unsupported field schema\n        {idSchema && idSchema.$id && (\n          <span>\n            {\" for\"} field <code>{idSchema.$id}</code>\n          </span>\n        )}\n        {reason && <em>: {reason}</em>}.\n      </p>\n      {schema && <pre>{JSON.stringify(schema, null, 2)}</pre>}\n    </div>\n  );\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  UnsupportedField.propTypes = {\n    schema: PropTypes.object.isRequired,\n    idSchema: PropTypes.object,\n    reason: PropTypes.string,\n  };\n}\n\nexport default UnsupportedField;\n","import ArrayField from \"./ArrayField\";\nimport BooleanField from \"./BooleanField\";\nimport DescriptionField from \"./DescriptionField\";\nimport MultiSchemaField from \"./MultiSchemaField\";\nimport NumberField from \"./NumberField\";\nimport ObjectField from \"./ObjectField\";\nimport SchemaField from \"./SchemaField\";\nimport StringField from \"./StringField\";\nimport TitleField from \"./TitleField\";\nimport NullField from \"./NullField\";\nimport UnsupportedField from \"./UnsupportedField\";\n\nexport default {\n  AnyOfField: MultiSchemaField,\n  ArrayField,\n  BooleanField,\n  DescriptionField,\n  NumberField,\n  ObjectField,\n  OneOfField: MultiSchemaField,\n  SchemaField,\n  StringField,\n  TitleField,\n  NullField,\n  UnsupportedField,\n};\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { shouldRender, parseDateString, toDateString, pad } from \"../../utils\";\n\nfunction rangeOptions(start, stop) {\n  let options = [];\n  for (let i = start; i <= stop; i++) {\n    options.push({ value: i, label: pad(i, 2) });\n  }\n  return options;\n}\n\nfunction readyForChange(state) {\n  return Object.keys(state).every(key => state[key] !== -1);\n}\n\nfunction DateElement(props) {\n  const {\n    type,\n    range,\n    value,\n    select,\n    rootId,\n    disabled,\n    readonly,\n    autofocus,\n    registry,\n    onBlur,\n  } = props;\n  const id = rootId + \"_\" + type;\n  const { SelectWidget } = registry.widgets;\n  return (\n    <SelectWidget\n      schema={{ type: \"integer\" }}\n      id={id}\n      className=\"form-control\"\n      options={{ enumOptions: rangeOptions(range[0], range[1]) }}\n      placeholder={type}\n      value={value}\n      disabled={disabled}\n      readonly={readonly}\n      autofocus={autofocus}\n      onChange={value => select(type, value)}\n      onBlur={onBlur}\n    />\n  );\n}\n\nclass AltDateWidget extends Component {\n  static defaultProps = {\n    time: false,\n    disabled: false,\n    readonly: false,\n    autofocus: false,\n    options: {\n      yearsRange: [1900, new Date().getFullYear() + 2],\n    },\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = parseDateString(props.value, props.time);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevProps.value &&\n      prevProps.value !== parseDateString(this.props.value, this.props.time)\n    ) {\n      this.setState(parseDateString(this.props.value, this.props.time));\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return shouldRender(this, nextProps, nextState);\n  }\n\n  onChange = (property, value) => {\n    this.setState(\n      { [property]: typeof value === \"undefined\" ? -1 : value },\n      () => {\n        // Only propagate to parent state if we have a complete date{time}\n        if (readyForChange(this.state)) {\n          this.props.onChange(toDateString(this.state, this.props.time));\n        }\n      }\n    );\n  };\n\n  setNow = event => {\n    event.preventDefault();\n    const { time, disabled, readonly, onChange } = this.props;\n    if (disabled || readonly) {\n      return;\n    }\n    const nowDateObj = parseDateString(new Date().toJSON(), time);\n    this.setState(nowDateObj, () => onChange(toDateString(this.state, time)));\n  };\n\n  clear = event => {\n    event.preventDefault();\n    const { time, disabled, readonly, onChange } = this.props;\n    if (disabled || readonly) {\n      return;\n    }\n    this.setState(parseDateString(\"\", time), () => onChange(undefined));\n  };\n\n  get dateElementProps() {\n    const { time, options } = this.props;\n    const { year, month, day, hour, minute, second } = this.state;\n    const data = [\n      {\n        type: \"year\",\n        range: options.yearsRange,\n        value: year,\n      },\n      { type: \"month\", range: [1, 12], value: month },\n      { type: \"day\", range: [1, 31], value: day },\n    ];\n    if (time) {\n      data.push(\n        { type: \"hour\", range: [0, 23], value: hour },\n        { type: \"minute\", range: [0, 59], value: minute },\n        { type: \"second\", range: [0, 59], value: second }\n      );\n    }\n    return data;\n  }\n\n  render() {\n    const {\n      id,\n      disabled,\n      readonly,\n      autofocus,\n      registry,\n      onBlur,\n      options,\n    } = this.props;\n    return (\n      <ul className=\"list-inline\">\n        {this.dateElementProps.map((elemProps, i) => (\n          <li key={i}>\n            <DateElement\n              rootId={id}\n              select={this.onChange}\n              {...elemProps}\n              disabled={disabled}\n              readonly={readonly}\n              registry={registry}\n              onBlur={onBlur}\n              autofocus={autofocus && i === 0}\n            />\n          </li>\n        ))}\n        {(options.hideNowButton !== \"undefined\"\n          ? !options.hideNowButton\n          : true) && (\n          <li>\n            <a href=\"#\" className=\"btn btn-info btn-now\" onClick={this.setNow}>\n              Now\n            </a>\n          </li>\n        )}\n        {(options.hideClearButton !== \"undefined\"\n          ? !options.hideClearButton\n          : true) && (\n          <li>\n            <a\n              href=\"#\"\n              className=\"btn btn-warning btn-clear\"\n              onClick={this.clear}>\n              Clear\n            </a>\n          </li>\n        )}\n      </ul>\n    );\n  }\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  AltDateWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    value: PropTypes.string,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func,\n    onBlur: PropTypes.func,\n    time: PropTypes.bool,\n    options: PropTypes.object,\n  };\n}\n\nexport default AltDateWidget;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport AltDateWidget from \"./AltDateWidget\";\n\nfunction AltDateTimeWidget(props) {\n  const { AltDateWidget } = props.registry.widgets;\n  return <AltDateWidget time {...props} />;\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  AltDateTimeWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    value: PropTypes.string,\n    required: PropTypes.bool,\n    onChange: PropTypes.func,\n    options: PropTypes.object,\n  };\n}\n\nAltDateTimeWidget.defaultProps = {\n  ...AltDateWidget.defaultProps,\n  time: true,\n};\n\nexport default AltDateTimeWidget;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction BaseInput(props) {\n  // Note: since React 15.2.0 we can't forward unknown element attributes, so we\n  // exclude the \"options\" and \"schema\" ones here.\n  if (!props.id) {\n    console.log(\"No id for\", props);\n    throw new Error(`no id for props ${JSON.stringify(props)}`);\n  }\n  const {\n    value,\n    readonly,\n    disabled,\n    autofocus,\n    onBlur,\n    onFocus,\n    options,\n    schema,\n    uiSchema,\n    formContext,\n    registry,\n    rawErrors,\n    ...inputProps\n  } = props;\n\n  // If options.inputType is set use that as the input type\n  if (options.inputType) {\n    inputProps.type = options.inputType;\n  } else if (!inputProps.type) {\n    // If the schema is of type number or integer, set the input type to number\n    if (schema.type === \"number\") {\n      inputProps.type = \"number\";\n      // Setting step to 'any' fixes a bug in Safari where decimals are not\n      // allowed in number inputs\n      inputProps.step = \"any\";\n    } else if (schema.type === \"integer\") {\n      inputProps.type = \"number\";\n      // Since this is integer, you always want to step up or down in multiples\n      // of 1\n      inputProps.step = \"1\";\n    } else {\n      inputProps.type = \"text\";\n    }\n  }\n\n  if (options.autocomplete) {\n    inputProps.autoComplete = options.autocomplete;\n  }\n\n  // If multipleOf is defined, use this as the step value. This mainly improves\n  // the experience for keyboard users (who can use the up/down KB arrows).\n  if (schema.multipleOf) {\n    inputProps.step = schema.multipleOf;\n  }\n\n  if (typeof schema.minimum !== \"undefined\") {\n    inputProps.min = schema.minimum;\n  }\n\n  if (typeof schema.maximum !== \"undefined\") {\n    inputProps.max = schema.maximum;\n  }\n\n  const _onChange = ({ target: { value } }) => {\n    return props.onChange(value === \"\" ? options.emptyValue : value);\n  };\n\n  return [\n    <input\n      key={inputProps.id}\n      className=\"form-control\"\n      readOnly={readonly}\n      disabled={disabled}\n      autoFocus={autofocus}\n      value={value == null ? \"\" : value}\n      {...inputProps}\n      list={schema.examples ? `examples_${inputProps.id}` : null}\n      onChange={_onChange}\n      onBlur={onBlur && (event => onBlur(inputProps.id, event.target.value))}\n      onFocus={onFocus && (event => onFocus(inputProps.id, event.target.value))}\n    />,\n    schema.examples ? (\n      <datalist\n        key={`datalist_${inputProps.id}`}\n        id={`examples_${inputProps.id}`}>\n        {[\n          ...new Set(\n            schema.examples.concat(schema.default ? [schema.default] : [])\n          ),\n        ].map(example => (\n          <option key={example} value={example} />\n        ))}\n      </datalist>\n    ) : null,\n  ];\n}\n\nBaseInput.defaultProps = {\n  required: false,\n  disabled: false,\n  readonly: false,\n  autofocus: false,\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  BaseInput.propTypes = {\n    id: PropTypes.string.isRequired,\n    placeholder: PropTypes.string,\n    value: PropTypes.any,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func,\n    onBlur: PropTypes.func,\n    onFocus: PropTypes.func,\n  };\n}\n\nexport default BaseInput;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { schemaRequiresTrueValue } from \"../../utils\";\n\nfunction CheckboxWidget(props) {\n  const {\n    schema,\n    id,\n    value,\n    disabled,\n    readonly,\n    label,\n    autofocus,\n    onBlur,\n    onFocus,\n    onChange,\n    DescriptionField,\n  } = props;\n\n  // Because an unchecked checkbox will cause html5 validation to fail, only add\n  // the \"required\" attribute if the field value must be \"true\", due to the\n  // \"const\" or \"enum\" keywords\n  const required = schemaRequiresTrueValue(schema);\n\n  return (\n    <div className={`checkbox ${disabled || readonly ? \"disabled\" : \"\"}`}>\n      {schema.description && (\n        <DescriptionField description={schema.description} />\n      )}\n      <label>\n        <input\n          type=\"checkbox\"\n          id={id}\n          checked={typeof value === \"undefined\" ? false : value}\n          required={required}\n          disabled={disabled || readonly}\n          autoFocus={autofocus}\n          onChange={event => onChange(event.target.checked)}\n          onBlur={onBlur && (event => onBlur(id, event.target.checked))}\n          onFocus={onFocus && (event => onFocus(id, event.target.checked))}\n        />\n        <span>{label}</span>\n      </label>\n    </div>\n  );\n}\n\nCheckboxWidget.defaultProps = {\n  autofocus: false,\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  CheckboxWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    value: PropTypes.bool,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func,\n  };\n}\n\nexport default CheckboxWidget;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction selectValue(value, selected, all) {\n  const at = all.indexOf(value);\n  const updated = selected.slice(0, at).concat(value, selected.slice(at));\n  // As inserting values at predefined index positions doesn't work with empty\n  // arrays, we need to reorder the updated selection to match the initial order\n  return updated.sort((a, b) => all.indexOf(a) > all.indexOf(b));\n}\n\nfunction deselectValue(value, selected) {\n  return selected.filter(v => v !== value);\n}\n\nfunction CheckboxesWidget(props) {\n  const { id, disabled, options, value, autofocus, readonly, onChange } = props;\n  const { enumOptions, enumDisabled, inline } = options;\n  return (\n    <div className=\"checkboxes\" id={id}>\n      {enumOptions.map((option, index) => {\n        const checked = value.indexOf(option.value) !== -1;\n        const itemDisabled =\n          enumDisabled && enumDisabled.indexOf(option.value) != -1;\n        const disabledCls =\n          disabled || itemDisabled || readonly ? \"disabled\" : \"\";\n        const checkbox = (\n          <span>\n            <input\n              type=\"checkbox\"\n              id={`${id}_${index}`}\n              checked={checked}\n              disabled={disabled || itemDisabled || readonly}\n              autoFocus={autofocus && index === 0}\n              onChange={event => {\n                const all = enumOptions.map(({ value }) => value);\n                if (event.target.checked) {\n                  onChange(selectValue(option.value, value, all));\n                } else {\n                  onChange(deselectValue(option.value, value));\n                }\n              }}\n            />\n            <span>{option.label}</span>\n          </span>\n        );\n        return inline ? (\n          <label key={index} className={`checkbox-inline ${disabledCls}`}>\n            {checkbox}\n          </label>\n        ) : (\n          <div key={index} className={`checkbox ${disabledCls}`}>\n            <label>{checkbox}</label>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nCheckboxesWidget.defaultProps = {\n  autofocus: false,\n  options: {\n    inline: false,\n  },\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  CheckboxesWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    options: PropTypes.shape({\n      enumOptions: PropTypes.array,\n      inline: PropTypes.bool,\n    }).isRequired,\n    value: PropTypes.any,\n    required: PropTypes.bool,\n    readonly: PropTypes.bool,\n    disabled: PropTypes.bool,\n    multiple: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func,\n  };\n}\n\nexport default CheckboxesWidget;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction ColorWidget(props) {\n  const {\n    disabled,\n    readonly,\n    registry: {\n      widgets: { BaseInput },\n    },\n  } = props;\n  return <BaseInput type=\"color\" {...props} disabled={disabled || readonly} />;\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  ColorWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    value: PropTypes.string,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func,\n  };\n}\n\nexport default ColorWidget;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction DateWidget(props) {\n  const {\n    onChange,\n    registry: {\n      widgets: { BaseInput },\n    },\n  } = props;\n  return (\n    <BaseInput\n      type=\"date\"\n      {...props}\n      onChange={value => onChange(value || undefined)}\n    />\n  );\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  DateWidget.propTypes = {\n    value: PropTypes.string,\n  };\n}\n\nexport default DateWidget;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { utcToLocal, localToUTC } from \"../../utils\";\n\nfunction DateTimeWidget(props) {\n  const {\n    value,\n    onChange,\n    registry: {\n      widgets: { BaseInput },\n    },\n  } = props;\n  return (\n    <BaseInput\n      type=\"datetime-local\"\n      {...props}\n      value={utcToLocal(value)}\n      onChange={value => onChange(localToUTC(value))}\n    />\n  );\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  DateTimeWidget.propTypes = {\n    value: PropTypes.string,\n  };\n}\n\nexport default DateTimeWidget;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction EmailWidget(props) {\n  const { BaseInput } = props.registry.widgets;\n  return <BaseInput type=\"email\" {...props} />;\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  EmailWidget.propTypes = {\n    value: PropTypes.string,\n  };\n}\n\nexport default EmailWidget;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { dataURItoBlob, shouldRender } from \"../../utils\";\n\nfunction addNameToDataURL(dataURL, name) {\n  return dataURL.replace(\";base64\", `;name=${encodeURIComponent(name)};base64`);\n}\n\nfunction processFile(file) {\n  const { name, size, type } = file;\n  return new Promise((resolve, reject) => {\n    const reader = new window.FileReader();\n    reader.onerror = reject;\n    reader.onload = event => {\n      resolve({\n        dataURL: addNameToDataURL(event.target.result, name),\n        name,\n        size,\n        type,\n      });\n    };\n    reader.readAsDataURL(file);\n  });\n}\n\nfunction processFiles(files) {\n  return Promise.all([].map.call(files, processFile));\n}\n\nfunction FilesInfo(props) {\n  const { filesInfo } = props;\n  if (filesInfo.length === 0) {\n    return null;\n  }\n  return (\n    <ul className=\"file-info\">\n      {filesInfo.map((fileInfo, key) => {\n        const { name, size, type } = fileInfo;\n        return (\n          <li key={key}>\n            <strong>{name}</strong> ({type}, {size} bytes)\n          </li>\n        );\n      })}\n    </ul>\n  );\n}\n\nfunction extractFileInfo(dataURLs) {\n  return dataURLs\n    .filter(dataURL => typeof dataURL !== \"undefined\")\n    .map(dataURL => {\n      const { blob, name } = dataURItoBlob(dataURL);\n      return {\n        name: name,\n        size: blob.size,\n        type: blob.type,\n      };\n    });\n}\n\nclass FileWidget extends Component {\n  constructor(props) {\n    super(props);\n    const { value } = props;\n    const values = Array.isArray(value) ? value : [value];\n    this.state = { values, filesInfo: extractFileInfo(values) };\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return shouldRender(this, nextProps, nextState);\n  }\n\n  onChange = event => {\n    const { multiple, onChange } = this.props;\n    processFiles(event.target.files).then(filesInfo => {\n      const state = {\n        values: filesInfo.map(fileInfo => fileInfo.dataURL),\n        filesInfo,\n      };\n      this.setState(state, () => {\n        if (multiple) {\n          onChange(state.values);\n        } else {\n          onChange(state.values[0]);\n        }\n      });\n    });\n  };\n\n  render() {\n    const { multiple, id, readonly, disabled, autofocus, options } = this.props;\n    const { filesInfo } = this.state;\n    return (\n      <div>\n        <p>\n          <input\n            ref={ref => (this.inputRef = ref)}\n            id={id}\n            type=\"file\"\n            disabled={readonly || disabled}\n            onChange={this.onChange}\n            defaultValue=\"\"\n            autoFocus={autofocus}\n            multiple={multiple}\n            accept={options.accept}\n          />\n        </p>\n        <FilesInfo filesInfo={filesInfo} />\n      </div>\n    );\n  }\n}\n\nFileWidget.defaultProps = {\n  autofocus: false,\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  FileWidget.propTypes = {\n    multiple: PropTypes.bool,\n    value: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.arrayOf(PropTypes.string),\n    ]),\n    autofocus: PropTypes.bool,\n  };\n}\n\nexport default FileWidget;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction HiddenWidget({ id, value }) {\n  return (\n    <input\n      type=\"hidden\"\n      id={id}\n      value={typeof value === \"undefined\" ? \"\" : value}\n    />\n  );\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  HiddenWidget.propTypes = {\n    id: PropTypes.string.isRequired,\n    value: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number,\n      PropTypes.bool,\n    ]),\n  };\n}\n\nexport default HiddenWidget;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction PasswordWidget(props) {\n  const { BaseInput } = props.registry.widgets;\n  return <BaseInput type=\"password\" {...props} />;\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  PasswordWidget.propTypes = {\n    value: PropTypes.string,\n  };\n}\n\nexport default PasswordWidget;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction RadioWidget(props) {\n  const {\n    options,\n    value,\n    required,\n    disabled,\n    readonly,\n    autofocus,\n    onBlur,\n    onFocus,\n    onChange,\n    id,\n  } = props;\n  // Generating a unique field name to identify this set of radio buttons\n  const name = Math.random().toString();\n  const { enumOptions, enumDisabled, inline } = options;\n  // checked={checked} has been moved above name={name}, As mentioned in #349;\n  // this is a temporary fix for radio button rendering bug in React, facebook/react#7630.\n  return (\n    <div className=\"field-radio-group\" id={id}>\n      {enumOptions.map((option, i) => {\n        const checked = option.value === value;\n        const itemDisabled =\n          enumDisabled && enumDisabled.indexOf(option.value) != -1;\n        const disabledCls =\n          disabled || itemDisabled || readonly ? \"disabled\" : \"\";\n        const radio = (\n          <span>\n            <input\n              type=\"radio\"\n              checked={checked}\n              name={name}\n              required={required}\n              value={option.value}\n              disabled={disabled || itemDisabled || readonly}\n              autoFocus={autofocus && i === 0}\n              onChange={_ => onChange(option.value)}\n              onBlur={onBlur && (event => onBlur(id, event.target.value))}\n              onFocus={onFocus && (event => onFocus(id, event.target.value))}\n            />\n            <span>{option.label}</span>\n          </span>\n        );\n\n        return inline ? (\n          <label key={i} className={`radio-inline ${disabledCls}`}>\n            {radio}\n          </label>\n        ) : (\n          <div key={i} className={`radio ${disabledCls}`}>\n            <label>{radio}</label>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nRadioWidget.defaultProps = {\n  autofocus: false,\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  RadioWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    options: PropTypes.shape({\n      enumOptions: PropTypes.array,\n      inline: PropTypes.bool,\n    }).isRequired,\n    value: PropTypes.any,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func,\n  };\n}\nexport default RadioWidget;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { rangeSpec } from \"../../utils\";\n\nfunction RangeWidget(props) {\n  const {\n    schema,\n    value,\n    registry: {\n      widgets: { BaseInput },\n    },\n  } = props;\n  return (\n    <div className=\"field-range-wrapper\">\n      <BaseInput type=\"range\" {...props} {...rangeSpec(schema)} />\n      <span className=\"range-view\">{value}</span>\n    </div>\n  );\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  RangeWidget.propTypes = {\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  };\n}\n\nexport default RangeWidget;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { asNumber, guessType } from \"../../utils\";\n\nconst nums = new Set([\"number\", \"integer\"]);\n\n/**\n * This is a silly limitation in the DOM where option change event values are\n * always retrieved as strings.\n */\nfunction processValue(schema, value) {\n  // \"enum\" is a reserved word, so only \"type\" and \"items\" can be destructured\n  const { type, items } = schema;\n  if (value === \"\") {\n    return undefined;\n  } else if (type === \"array\" && items && nums.has(items.type)) {\n    return value.map(asNumber);\n  } else if (type === \"boolean\") {\n    return value === \"true\";\n  } else if (type === \"number\") {\n    return asNumber(value);\n  }\n\n  // If type is undefined, but an enum is present, try and infer the type from\n  // the enum values\n  if (schema.enum) {\n    if (schema.enum.every(x => guessType(x) === \"number\")) {\n      return asNumber(value);\n    } else if (schema.enum.every(x => guessType(x) === \"boolean\")) {\n      return value === \"true\";\n    }\n  }\n\n  return value;\n}\n\nfunction getValue(event, multiple) {\n  if (multiple) {\n    return [].slice\n      .call(event.target.options)\n      .filter(o => o.selected)\n      .map(o => o.value);\n  } else {\n    return event.target.value;\n  }\n}\n\nfunction SelectWidget(props) {\n  const {\n    schema,\n    id,\n    options,\n    value,\n    required,\n    disabled,\n    readonly,\n    multiple,\n    autofocus,\n    onChange,\n    onBlur,\n    onFocus,\n    placeholder,\n  } = props;\n  const { enumOptions, enumDisabled } = options;\n  const emptyValue = multiple ? [] : \"\";\n  return (\n    <select\n      id={id}\n      multiple={multiple}\n      className=\"form-control\"\n      value={typeof value === \"undefined\" ? emptyValue : value}\n      required={required}\n      disabled={disabled || readonly}\n      autoFocus={autofocus}\n      onBlur={\n        onBlur &&\n        (event => {\n          const newValue = getValue(event, multiple);\n          onBlur(id, processValue(schema, newValue));\n        })\n      }\n      onFocus={\n        onFocus &&\n        (event => {\n          const newValue = getValue(event, multiple);\n          onFocus(id, processValue(schema, newValue));\n        })\n      }\n      onChange={event => {\n        const newValue = getValue(event, multiple);\n        onChange(processValue(schema, newValue));\n      }}>\n      {!multiple && schema.default === undefined && (\n        <option value=\"\">{placeholder}</option>\n      )}\n      {enumOptions.map(({ value, label }, i) => {\n        const disabled = enumDisabled && enumDisabled.indexOf(value) != -1;\n        return (\n          <option key={i} value={value} disabled={disabled}>\n            {label}\n          </option>\n        );\n      })}\n    </select>\n  );\n}\n\nSelectWidget.defaultProps = {\n  autofocus: false,\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  SelectWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    options: PropTypes.shape({\n      enumOptions: PropTypes.array,\n    }).isRequired,\n    value: PropTypes.any,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    multiple: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func,\n    onBlur: PropTypes.func,\n    onFocus: PropTypes.func,\n  };\n}\n\nexport default SelectWidget;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction TextareaWidget(props) {\n  const {\n    id,\n    options,\n    placeholder,\n    value,\n    required,\n    disabled,\n    readonly,\n    autofocus,\n    onChange,\n    onBlur,\n    onFocus,\n  } = props;\n  const _onChange = ({ target: { value } }) => {\n    return onChange(value === \"\" ? options.emptyValue : value);\n  };\n  return (\n    <textarea\n      id={id}\n      className=\"form-control\"\n      value={value ? value : \"\"}\n      placeholder={placeholder}\n      required={required}\n      disabled={disabled}\n      readOnly={readonly}\n      autoFocus={autofocus}\n      rows={options.rows}\n      onBlur={onBlur && (event => onBlur(id, event.target.value))}\n      onFocus={onFocus && (event => onFocus(id, event.target.value))}\n      onChange={_onChange}\n    />\n  );\n}\n\nTextareaWidget.defaultProps = {\n  autofocus: false,\n  options: {},\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  TextareaWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    placeholder: PropTypes.string,\n    options: PropTypes.shape({\n      rows: PropTypes.number,\n    }),\n    value: PropTypes.string,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func,\n    onBlur: PropTypes.func,\n    onFocus: PropTypes.func,\n  };\n}\n\nexport default TextareaWidget;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction TextWidget(props) {\n  const { BaseInput } = props.registry.widgets;\n  return <BaseInput {...props} />;\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  TextWidget.propTypes = {\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    id: PropTypes.string,\n  };\n}\n\nexport default TextWidget;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction URLWidget(props) {\n  const { BaseInput } = props.registry.widgets;\n  return <BaseInput type=\"url\" {...props} />;\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  URLWidget.propTypes = {\n    value: PropTypes.string,\n  };\n}\n\nexport default URLWidget;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { rangeSpec } from \"../../utils\";\n\nfunction UpDownWidget(props) {\n  const {\n    registry: {\n      widgets: { BaseInput },\n    },\n  } = props;\n  return <BaseInput type=\"number\" {...props} {...rangeSpec(props.schema)} />;\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  UpDownWidget.propTypes = {\n    value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  };\n}\n\nexport default UpDownWidget;\n","import React from \"react\";\nimport { getSubmitButtonOptions } from \".././../utils\";\n\nexport default function SubmitButton({ uiSchema }) {\n  const {\n    submitText,\n    norender,\n    props: submitButtonProps,\n  } = getSubmitButtonOptions(uiSchema);\n  return (\n    <div>\n      {!norender && (\n        <button type=\"submit\" {...submitButtonProps} className=\"btn btn-info\">\n          {submitText}\n        </button>\n      )}\n    </div>\n  );\n}\n","import AltDateWidget from \"./AltDateWidget\";\nimport AltDateTimeWidget from \"./AltDateTimeWidget\";\nimport BaseInput from \"./BaseInput\";\nimport CheckboxWidget from \"./CheckboxWidget\";\nimport CheckboxesWidget from \"./CheckboxesWidget\";\nimport ColorWidget from \"./ColorWidget\";\nimport DateWidget from \"./DateWidget\";\nimport DateTimeWidget from \"./DateTimeWidget\";\nimport EmailWidget from \"./EmailWidget\";\nimport FileWidget from \"./FileWidget\";\nimport HiddenWidget from \"./HiddenWidget\";\nimport PasswordWidget from \"./PasswordWidget\";\nimport RadioWidget from \"./RadioWidget\";\nimport RangeWidget from \"./RangeWidget\";\nimport SelectWidget from \"./SelectWidget\";\nimport TextareaWidget from \"./TextareaWidget\";\nimport TextWidget from \"./TextWidget\";\nimport URLWidget from \"./URLWidget\";\nimport UpDownWidget from \"./UpDownWidget\";\nimport SubmitButton from \"./SubmitButton\";\nexport default {\n  BaseInput,\n  PasswordWidget,\n  RadioWidget,\n  UpDownWidget,\n  RangeWidget,\n  SelectWidget,\n  TextWidget,\n  DateWidget,\n  DateTimeWidget,\n  AltDateWidget,\n  AltDateTimeWidget,\n  EmailWidget,\n  URLWidget,\n  TextareaWidget,\n  HiddenWidget,\n  ColorWidget,\n  FileWidget,\n  CheckboxWidget,\n  CheckboxesWidget,\n  SubmitButton,\n};\n","import fields from \"./components/fields\";\nimport widgets from \"./components/widgets\";\n\nexport function getDefaultRegistry() {\n  return {\n    fields,\n    widgets,\n    definitions: {},\n    rootSchema: {},\n    formContext: {},\n  };\n}\n","import React from \"react\";\n\nexport default function ErrorList(props) {\n  const { errors } = props;\n  return (\n    <div className=\"panel panel-danger errors\">\n      <div className=\"panel-heading\">\n        <h3 className=\"panel-title\">Errors</h3>\n      </div>\n      <ul className=\"list-group\">\n        {errors.map((error, i) => {\n          return (\n            <li key={i} className=\"list-group-item text-danger\">\n              {error.stack}\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport _pick from \"lodash/pick\";\nimport _get from \"lodash/get\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport { getDefaultRegistry } from \"../defaultRegistry\";\n\nimport { default as DefaultErrorList } from \"./ErrorList\";\nimport {\n  getDefaultFormState,\n  retrieveSchema,\n  shouldRender,\n  toIdSchema,\n  deepEquals,\n  toPathSchema,\n  isObject,\n} from \"../utils\";\nimport validateFormData, { toErrorList } from \"../validate\";\nimport { mergeObjects } from \"../utils\";\n\nexport default class Form extends Component {\n  static defaultProps = {\n    uiSchema: {},\n    noValidate: false,\n    liveValidate: false,\n    disabled: false,\n    readonly: false,\n    noHtml5Validate: false,\n    ErrorList: DefaultErrorList,\n    omitExtraData: false,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = this.getStateFromProps(props, props.formData);\n    if (\n      this.props.onChange &&\n      !deepEquals(this.state.formData, this.props.formData)\n    ) {\n      this.props.onChange(this.state);\n    }\n    this.formElement = null;\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const nextState = this.getStateFromProps(nextProps, nextProps.formData);\n    if (\n      !deepEquals(nextState.formData, nextProps.formData) &&\n      !deepEquals(nextState.formData, this.state.formData) &&\n      this.props.onChange\n    ) {\n      this.props.onChange(nextState);\n    }\n    this.setState(nextState);\n  }\n\n  getStateFromProps(props, inputFormData) {\n    const state = this.state || {};\n    const schema = \"schema\" in props ? props.schema : this.props.schema;\n    const uiSchema = \"uiSchema\" in props ? props.uiSchema : this.props.uiSchema;\n    const edit = typeof inputFormData !== \"undefined\";\n    const liveValidate =\n      \"liveValidate\" in props ? props.liveValidate : this.props.liveValidate;\n    const mustValidate = edit && !props.noValidate && liveValidate;\n    const rootSchema = schema;\n    const formData = getDefaultFormState(schema, inputFormData, rootSchema);\n    const retrievedSchema = retrieveSchema(schema, rootSchema, formData);\n    const customFormats = props.customFormats;\n    const additionalMetaSchemas = props.additionalMetaSchemas;\n\n    const getCurrentErrors = () => {\n      if (props.noValidate) {\n        return { errors: [], errorSchema: {} };\n      } else if (!props.liveValidate) {\n        return {\n          errors: state.schemaValidationErrors || [],\n          errorSchema: state.schemaValidationErrorSchema || {},\n        };\n      }\n      return {\n        errors: state.errors || [],\n        errorSchema: state.errorSchema || {},\n      };\n    };\n\n    let errors,\n      errorSchema,\n      schemaValidationErrors,\n      schemaValidationErrorSchema;\n    if (mustValidate) {\n      const schemaValidation = this.validate(\n        formData,\n        schema,\n        additionalMetaSchemas,\n        customFormats\n      );\n      errors = schemaValidation.errors;\n      errorSchema = schemaValidation.errorSchema;\n      schemaValidationErrors = errors;\n      schemaValidationErrorSchema = errorSchema;\n    } else {\n      const currentErrors = getCurrentErrors();\n      errors = currentErrors.errors;\n      errorSchema = currentErrors.errorSchema;\n      schemaValidationErrors = state.schemaValidationErrors;\n      schemaValidationErrorSchema = state.schemaValidationErrorSchema;\n    }\n    if (props.extraErrors) {\n      errorSchema = mergeObjects(\n        errorSchema,\n        props.extraErrors,\n        !!\"concat arrays\"\n      );\n      errors = toErrorList(errorSchema);\n    }\n    const idSchema = toIdSchema(\n      retrievedSchema,\n      uiSchema[\"ui:rootFieldId\"],\n      rootSchema,\n      formData,\n      props.idPrefix,\n      props.idSeparator\n    );\n    const nextState = {\n      schema,\n      uiSchema,\n      idSchema,\n      formData,\n      edit,\n      errors,\n      errorSchema,\n      additionalMetaSchemas,\n    };\n    if (schemaValidationErrors) {\n      nextState.schemaValidationErrors = schemaValidationErrors;\n      nextState.schemaValidationErrorSchema = schemaValidationErrorSchema;\n    }\n    return nextState;\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return shouldRender(this, nextProps, nextState);\n  }\n\n  validate(\n    formData,\n    schema = this.props.schema,\n    additionalMetaSchemas = this.props.additionalMetaSchemas,\n    customFormats = this.props.customFormats\n  ) {\n    const { validate, transformErrors } = this.props;\n    const { rootSchema } = this.getRegistry();\n    const resolvedSchema = retrieveSchema(schema, rootSchema, formData);\n    return validateFormData(\n      formData,\n      resolvedSchema,\n      validate,\n      transformErrors,\n      additionalMetaSchemas,\n      customFormats\n    );\n  }\n\n  renderErrors() {\n    const { errors, errorSchema, schema, uiSchema } = this.state;\n    const { ErrorList, showErrorList, formContext } = this.props;\n\n    if (errors.length && showErrorList != false) {\n      return (\n        <ErrorList\n          errors={errors}\n          errorSchema={errorSchema}\n          schema={schema}\n          uiSchema={uiSchema}\n          formContext={formContext}\n        />\n      );\n    }\n    return null;\n  }\n\n  getUsedFormData = (formData, fields) => {\n    //for the case of a single input form\n    if (fields.length === 0 && typeof formData !== \"object\") {\n      return formData;\n    }\n\n    let data = _pick(formData, fields);\n    if (Array.isArray(formData)) {\n      return Object.keys(data).map(key => data[key]);\n    }\n\n    return data;\n  };\n\n  getFieldNames = (pathSchema, formData) => {\n    const getAllPaths = (_obj, acc = [], paths = [\"\"]) => {\n      Object.keys(_obj).forEach(key => {\n        if (typeof _obj[key] === \"object\") {\n          let newPaths = paths.map(path => `${path}.${key}`);\n          // If an object is marked with additionalProperties, all its keys are valid\n          if (_obj[key].__rjsf_additionalProperties && _obj[key].$name !== \"\") {\n            acc.push(_obj[key].$name);\n          } else {\n            getAllPaths(_obj[key], acc, newPaths);\n          }\n        } else if (key === \"$name\" && _obj[key] !== \"\") {\n          paths.forEach(path => {\n            path = path.replace(/^\\./, \"\");\n            const formValue = _get(formData, path);\n            // adds path to fieldNames if it points to a value\n            // or an empty object/array\n            if (typeof formValue !== \"object\" || _isEmpty(formValue)) {\n              acc.push(path);\n            }\n          });\n        }\n      });\n      return acc;\n    };\n\n    return getAllPaths(pathSchema);\n  };\n\n  onChange = (formData, newErrorSchema) => {\n    if (isObject(formData) || Array.isArray(formData)) {\n      const newState = this.getStateFromProps(this.props, formData);\n      formData = newState.formData;\n    }\n    const mustValidate = !this.props.noValidate && this.props.liveValidate;\n    let state = { formData };\n    let newFormData = formData;\n\n    if (this.props.omitExtraData === true && this.props.liveOmit === true) {\n      const retrievedSchema = retrieveSchema(\n        this.state.schema,\n        this.state.schema,\n        formData\n      );\n      const pathSchema = toPathSchema(\n        retrievedSchema,\n        \"\",\n        this.state.schema,\n        formData\n      );\n\n      const fieldNames = this.getFieldNames(pathSchema, formData);\n\n      newFormData = this.getUsedFormData(formData, fieldNames);\n      state = {\n        formData: newFormData,\n      };\n    }\n\n    if (mustValidate) {\n      let schemaValidation = this.validate(newFormData);\n      let errors = schemaValidation.errors;\n      let errorSchema = schemaValidation.errorSchema;\n      const schemaValidationErrors = errors;\n      const schemaValidationErrorSchema = errorSchema;\n      if (this.props.extraErrors) {\n        errorSchema = mergeObjects(\n          errorSchema,\n          this.props.extraErrors,\n          !!\"concat arrays\"\n        );\n        errors = toErrorList(errorSchema);\n      }\n      state = {\n        formData: newFormData,\n        errors,\n        errorSchema,\n        schemaValidationErrors,\n        schemaValidationErrorSchema,\n      };\n    } else if (!this.props.noValidate && newErrorSchema) {\n      const errorSchema = this.props.extraErrors\n        ? mergeObjects(\n            newErrorSchema,\n            this.props.extraErrors,\n            !!\"concat arrays\"\n          )\n        : newErrorSchema;\n      state = {\n        formData: newFormData,\n        errorSchema: errorSchema,\n        errors: toErrorList(errorSchema),\n      };\n    }\n    this.setState(\n      state,\n      () => this.props.onChange && this.props.onChange(this.state)\n    );\n  };\n\n  onBlur = (...args) => {\n    if (this.props.onBlur) {\n      this.props.onBlur(...args);\n    }\n  };\n\n  onFocus = (...args) => {\n    if (this.props.onFocus) {\n      this.props.onFocus(...args);\n    }\n  };\n\n  onSubmit = event => {\n    event.preventDefault();\n    if (event.target !== event.currentTarget) {\n      return;\n    }\n\n    event.persist();\n    let newFormData = this.state.formData;\n\n    if (this.props.omitExtraData === true) {\n      const retrievedSchema = retrieveSchema(\n        this.state.schema,\n        this.state.schema,\n        newFormData\n      );\n      const pathSchema = toPathSchema(\n        retrievedSchema,\n        \"\",\n        this.state.schema,\n        newFormData\n      );\n\n      const fieldNames = this.getFieldNames(pathSchema, newFormData);\n\n      newFormData = this.getUsedFormData(newFormData, fieldNames);\n    }\n\n    if (!this.props.noValidate) {\n      let schemaValidation = this.validate(newFormData);\n      let errors = schemaValidation.errors;\n      let errorSchema = schemaValidation.errorSchema;\n      const schemaValidationErrors = errors;\n      const schemaValidationErrorSchema = errorSchema;\n      if (Object.keys(errors).length > 0) {\n        if (this.props.extraErrors) {\n          errorSchema = mergeObjects(\n            errorSchema,\n            this.props.extraErrors,\n            !!\"concat arrays\"\n          );\n          errors = toErrorList(errorSchema);\n        }\n        this.setState(\n          {\n            errors,\n            errorSchema,\n            schemaValidationErrors,\n            schemaValidationErrorSchema,\n          },\n          () => {\n            if (this.props.onError) {\n              this.props.onError(errors);\n            } else {\n              console.error(\"Form validation failed\", errors);\n            }\n          }\n        );\n        return;\n      }\n    }\n\n    // There are no errors generated through schema validation.\n    // Check for user provided errors and update state accordingly.\n    let errorSchema;\n    let errors;\n    if (this.props.extraErrors) {\n      errorSchema = this.props.extraErrors;\n      errors = toErrorList(errorSchema);\n    } else {\n      errorSchema = {};\n      errors = [];\n    }\n\n    this.setState(\n      {\n        formData: newFormData,\n        errors: errors,\n        errorSchema: errorSchema,\n        schemaValidationErrors: [],\n        schemaValidationErrorSchema: {},\n      },\n      () => {\n        if (this.props.onSubmit) {\n          this.props.onSubmit(\n            { ...this.state, formData: newFormData, status: \"submitted\" },\n            event\n          );\n        }\n      }\n    );\n  };\n\n  getRegistry() {\n    // For BC, accept passed SchemaField and TitleField props and pass them to\n    // the \"fields\" registry one.\n    const { fields, widgets } = getDefaultRegistry();\n    return {\n      fields: { ...fields, ...this.props.fields },\n      widgets: { ...widgets, ...this.props.widgets },\n      ArrayFieldTemplate: this.props.ArrayFieldTemplate,\n      ObjectFieldTemplate: this.props.ObjectFieldTemplate,\n      FieldTemplate: this.props.FieldTemplate,\n      definitions: this.props.schema.definitions || {},\n      rootSchema: this.props.schema,\n      formContext: this.props.formContext || {},\n    };\n  }\n\n  submit() {\n    if (this.formElement) {\n      this.formElement.dispatchEvent(\n        new CustomEvent(\"submit\", {\n          cancelable: true,\n        })\n      );\n    }\n  }\n\n  render() {\n    const {\n      children,\n      id,\n      idPrefix,\n      idSeparator,\n      className,\n      tagName,\n      name,\n      method,\n      target,\n      action,\n      autocomplete: deprecatedAutocomplete,\n      autoComplete: currentAutoComplete,\n      enctype,\n      acceptcharset,\n      noHtml5Validate,\n      disabled,\n      readonly,\n      formContext,\n      /**\n       * _internalFormWrapper is currently used by the material-ui and semantic-ui themes to provide a custom wrapper\n       * around `<Form />` that supports the proper rendering of those themes. To use this prop, one must pass a\n       * component that takes two props: `children` and `as`. That component, at minimum, should render the `children`\n       * inside of a <form /> tag unless `as` is provided, in which case, use the `as` prop in place of `<form />`.\n       * i.e.:\n       * ```\n       * export default function InternalForm({ children, as}) {\n       *   const FormTag = as || 'form';\n       *   return <FormTag>{children}</FormTag>;\n       * }\n       * ```\n       */\n      _internalFormWrapper,\n    } = this.props;\n\n    const { schema, uiSchema, formData, errorSchema, idSchema } = this.state;\n    const registry = this.getRegistry();\n    const _SchemaField = registry.fields.SchemaField;\n    // The `semantic-ui` and `material-ui` themes have `_internalFormWrapper`s that take an `as` prop that is the\n    // PropTypes.elementType to use for the inner tag so we'll need to pass `tagName` along if it is provided.\n    // NOTE, the `as` prop is native to `semantic-ui` and is emulated in the `material-ui` theme\n    const as = _internalFormWrapper ? tagName : undefined;\n    const FormTag = _internalFormWrapper || tagName || \"form\";\n    const SubmitButton = registry.widgets.SubmitButton;\n    if (deprecatedAutocomplete) {\n      console.warn(\n        \"Using autocomplete property of Form is deprecated, use autoComplete instead.\"\n      );\n    }\n    const autoComplete = currentAutoComplete\n      ? currentAutoComplete\n      : deprecatedAutocomplete;\n\n    return (\n      <FormTag\n        className={className ? className : \"rjsf\"}\n        id={id}\n        name={name}\n        method={method}\n        target={target}\n        action={action}\n        autoComplete={autoComplete}\n        encType={enctype}\n        acceptCharset={acceptcharset}\n        noValidate={noHtml5Validate}\n        onSubmit={this.onSubmit}\n        as={as}\n        ref={form => {\n          this.formElement = form;\n        }}>\n        {this.renderErrors()}\n        <_SchemaField\n          schema={schema}\n          uiSchema={uiSchema}\n          errorSchema={errorSchema}\n          idSchema={idSchema}\n          idPrefix={idPrefix}\n          idSeparator={idSeparator}\n          formContext={formContext}\n          formData={formData}\n          onChange={this.onChange}\n          onBlur={this.onBlur}\n          onFocus={this.onFocus}\n          registry={registry}\n          disabled={disabled}\n          readonly={readonly}\n        />\n        {children ? children : <SubmitButton uiSchema={uiSchema} />}\n      </FormTag>\n    );\n  }\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  Form.propTypes = {\n    schema: PropTypes.object.isRequired,\n    uiSchema: PropTypes.object,\n    formData: PropTypes.any,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    widgets: PropTypes.objectOf(\n      PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n    ),\n    fields: PropTypes.objectOf(PropTypes.elementType),\n    ArrayFieldTemplate: PropTypes.elementType,\n    ObjectFieldTemplate: PropTypes.elementType,\n    FieldTemplate: PropTypes.elementType,\n    ErrorList: PropTypes.func,\n    onChange: PropTypes.func,\n    onError: PropTypes.func,\n    showErrorList: PropTypes.bool,\n    onSubmit: PropTypes.func,\n    id: PropTypes.string,\n    className: PropTypes.string,\n    tagName: PropTypes.elementType,\n    _internalFormWrapper: PropTypes.elementType,\n    name: PropTypes.string,\n    method: PropTypes.string,\n    target: PropTypes.string,\n    action: PropTypes.string,\n    autocomplete: PropTypes.string,\n    autoComplete: PropTypes.string,\n    enctype: PropTypes.string,\n    acceptcharset: PropTypes.string,\n    noValidate: PropTypes.bool,\n    noHtml5Validate: PropTypes.bool,\n    liveValidate: PropTypes.bool,\n    validate: PropTypes.func,\n    transformErrors: PropTypes.func,\n    formContext: PropTypes.object,\n    customFormats: PropTypes.object,\n    additionalMetaSchemas: PropTypes.arrayOf(PropTypes.object),\n    omitExtraData: PropTypes.bool,\n    extraErrors: PropTypes.object,\n  };\n}\n","import React, { forwardRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Form from \"./\";\n\nfunction withTheme(themeProps) {\n  return forwardRef(({ fields, widgets, ...directProps }, ref) => {\n    fields = { ...themeProps.fields, ...fields };\n    widgets = { ...themeProps.widgets, ...widgets };\n\n    return (\n      <Form\n        {...themeProps}\n        {...directProps}\n        fields={fields}\n        widgets={widgets}\n        ref={ref}\n      />\n    );\n  });\n}\n\nwithTheme.propTypes = {\n  widgets: PropTypes.object,\n  fields: PropTypes.object,\n};\n\nexport default withTheme;\n","import Form from \"./components/Form\";\nimport withTheme from \"./withTheme\";\nimport * as _utils from \"./utils\";\nimport { getDefaultRegistry } from \"./defaultRegistry\";\n\nconst utils = {\n  ..._utils,\n  getDefaultRegistry,\n};\n\nexport { withTheme, utils };\nexport default Form;\n"],"names":["IconButton","props","type","icon","className","otherProps","React","AddButton","onClick","disabled","registry","PropTypes","shape","ArrayFieldTemplate","elementType","FieldTemplate","ObjectFieldTemplate","definitions","object","isRequired","rootSchema","fields","objectOf","formContext","widgets","oneOfType","func","fieldProps","autofocus","bool","errorSchema","formData","any","idSchema","onBlur","onChange","onFocus","rawErrors","arrayOf","string","readonly","required","schema","uiSchema","addable","orderable","removable","ajv","createAjvInstance","formerCustomFormats","formerMetaSchema","ROOT_SCHEMA_PREFIX","Ajv","errorDataPath","allErrors","multipleOfPrecision","schemaId","unknownFormats","addFormat","toErrorSchema","errors","length","reduce","error","property","message","path","toPath","parent","splice","slice","segment","Array","isArray","__errors","concat","toErrorList","fieldName","errorList","map","stack","Object","keys","acc","key","createErrorHandler","handler","addError","push","isObject","value","unwrapErrorHandler","errorHandler","transformAjvErrors","e","dataPath","keyword","params","schemaPath","name","trim","validateFormData","customValidate","transformErrors","additionalMetaSchemas","customFormats","getDefaultFormState","newMetaSchemas","deepEquals","newFormats","addMetaSchema","forEach","formatName","validationError","validate","err","noProperMetaSchema","includes","$schema","userErrorSchema","newErrorSchema","mergeObjects","newErrors","withIdRefPrefix","schemaNode","obj","constructor","startsWith","i","isValid","data","addSchema","removeSchema","ADDITIONAL_PROPERTY_FLAG","widgetMap","checkbox","radio","select","hidden","text","password","email","hostname","ipv4","ipv6","uri","textarea","date","datetime","color","file","number","updown","range","integer","array","checkboxes","files","canExpand","additionalProperties","getUiOptions","expandable","maxProperties","undefined","getSchemaType","guessType","properties","find","getWidget","widget","registeredWidgets","mergeOptions","Widget","MergedWidget","defaultOptions","defaultProps","options","ReactIs","createElement","Error","hasOwnProperty","registeredWidget","hasWidget","computeDefaults","_schema","parentDefaults","rawFormData","includeUndefinedValues","defaults","refSchema","findSchemaDefinition","$ref","resolvedSchema","resolveDependencies","isFixedItems","items","itemSchema","idx","oneOf","getMatchingOption","anyOf","computedDefault","item","additionalItems","minItems","isMultiSelect","defaultsLength","defaultEntries","fillerSchema","fillerEntries","fill","retrieveSchema","mergeDefaultsWithFormData","assign","filter","indexOf","console","warn","component","substring","getSubmitButtonOptions","uiOptions","submitText","norender","getDisplayLabel","label","displayLabel","schemaType","isFilesArray","isCustomWidget","thing","File","obj1","obj2","concatArrays","left","right","asNumber","test","n","Number","valid","isNaN","orderProperties","order","arrayToHash","arr","prev","curr","errorPropList","join","propertyHash","orderFiltered","prop","orderHash","rest","restIndex","lastIndexOf","complete","isConstant","toConstant","isSelect","altSchemas","every","uniqueItems","itemsSchema","format","allowAdditionalItems","optionsList","enumNames","String","title","origRef","decodeURIComponent","current","jsonpointer","get","stubExistingAdditionalProperties","resolveCondition","expression","then","otherwise","resolvedSchemaLessConditional","conditionalSchema","mergeSchemas","resolveSchema","resolveReference","allOf","allOfSubschema","$refSchema","localSchema","entries","propName","propSchema","rawPropData","propData","resolvedPropSchema","mergeAllOf","resolvedSchemaWithoutAllOf","hasAdditionalProperties","dependencies","processDependencies","dependencyKey","dependencyValue","remainingDependencies","withDependentProperties","withDependentSchema","additionallyRequired","from","Set","dependentSchema","resolvedOneOf","subschema","withExactlyOneSubschema","validSubschemas","conditionPropertySchema","conditionSchema","dependentSubschema","union","isArguments","prototype","toString","call","a","b","ca","cb","Date","getTime","RegExp","source","global","multiline","lastIndex","ignoreCase","ka","kb","cal","sort","j","k","pop","shouldRender","comp","nextProps","nextState","state","toIdSchema","id","idPrefix","idSeparator","$id","field","fieldId","toPathSchema","pathSchema","$name","replace","__rjsf_additionalProperties","element","parseDateString","dateString","includeTime","year","month","day","hour","minute","second","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","toDateString","time","utcTime","UTC","toJSON","utcToLocal","jsonDate","yyyy","pad","getFullYear","MM","getMonth","dd","getDate","hh","getHours","mm","getMinutes","ss","getSeconds","SSS","getMilliseconds","localToUTC","num","size","s","dataURItoBlob","dataURI","splitted","split","param","binary","atob","charCodeAt","blob","window","Blob","Uint8Array","rangeSpec","spec","multipleOf","step","minimum","min","maximum","max","option","requiresAnyOf","augmentedSchema","shallowClone","schemaRequiresTrueValue","some","ArrayFieldTitle","TitleField","ArrayFieldDescription","DescriptionField","description","DefaultArrayItem","btnStyle","flex","paddingLeft","paddingRight","fontWeight","hasToolbar","children","display","justifyContent","hasMoveUp","hasMoveDown","onReorderClick","index","hasRemove","onDropIndexClick","DefaultFixedArrayFieldTemplate","canAdd","onAddClick","DefaultNormalArrayFieldTemplate","p","generateRowId","nanoid","generateKeyedFormData","keyedToPlainFormData","keyedFormData","keyedItem","ArrayField","_getNewFormDataRow","event","preventDefault","newKeyedFormDataRow","newKeyedFormData","setState","updatedKeyedFormData","onAddIndexClick","parseInt","_","newIndex","target","blur","reOrderArray","_newKeyedFormData","onChangeForIndex","newFormData","jsonValue","onSelectChange","getDerivedStateFromProps","prevState","nextFormData","previousKeyedFormData","previousKeyedFormDatum","isItemRequired","canAddItem","formItems","maxItems","render","UnsupportedField","renderMultiSelect","renderCustomWidget","renderFixedArray","renderFiles","renderNormalArray","hideError","arrayProps","itemErrorSchema","itemIdPrefix","itemIdSchema","renderArrayFieldItem","canMoveUp","canMoveDown","itemData","itemUiSchema","Component","placeholder","enumOptions","itemSchemas","additionalSchema","additional","canRemove","Template","SchemaField","has","moveUp","moveDown","remove","toolbar","propTypes","types","BooleanField","AnyOfField","onOptionChange","selectedOption","newOption","optionsToDiscard","componentDidUpdate","prevProps","matchingOption","baseType","_SchemaField","optionSchema","trailingCharMatcherWithPrefix","trailingCharMatcher","NumberField","handleChange","lastValue","charAt","processed","match","StringField","re","DefaultObjectFieldTemplate","content","ObjectField","wasPropertyKeyModified","onPropertyChange","addedByAdditionalProperties","onDropPropertyClick","copiedFormData","getAvailableKey","preferredKey","newKey","onKeyChange","oldValue","newKeys","keyValues","renamedObj","handleAddClick","getDefaultValue","orderedProperties","JSON","stringify","templateProps","fieldUiSchema","REQUIRED_FIELD_SYMBOL","COMPONENT_TYPES","getFieldComponent","componentName","Label","LabelInput","Help","help","ErrorList","elem","DefaultTemplate","classNames","node","rawHelp","rawDescription","WrapIfAdditional","keyLabel","border","SchemaFieldRender","FieldComponent","Boolean","readOnly","uiSchemaHideError","fieldErrorSchema","_AnyOfField","_OneOfField","OneOfField","shouldComponentUpdate","defaultWidget","NullField","componentDidMount","reason","MultiSchemaField","rangeOptions","start","stop","readyForChange","DateElement","rootId","SelectWidget","AltDateWidget","setNow","nowDateObj","clear","dateElementProps","elemProps","hideNowButton","hideClearButton","yearsRange","AltDateTimeWidget","BaseInput","log","inputProps","inputType","autocomplete","autoComplete","_onChange","emptyValue","examples","example","CheckboxWidget","checked","selectValue","selected","all","at","updated","deselectValue","v","CheckboxesWidget","enumDisabled","inline","itemDisabled","disabledCls","multiple","ColorWidget","DateWidget","DateTimeWidget","EmailWidget","addNameToDataURL","dataURL","encodeURIComponent","processFile","Promise","resolve","reject","reader","FileReader","onerror","onload","result","readAsDataURL","processFiles","FilesInfo","filesInfo","fileInfo","extractFileInfo","dataURLs","FileWidget","values","ref","inputRef","accept","HiddenWidget","PasswordWidget","RadioWidget","Math","random","RangeWidget","nums","processValue","x","getValue","o","newValue","TextareaWidget","rows","TextWidget","URLWidget","UpDownWidget","SubmitButton","submitButtonProps","getDefaultRegistry","Form","getUsedFormData","_pick","getFieldNames","getAllPaths","_obj","paths","newPaths","formValue","_get","_isEmpty","newState","getStateFromProps","mustValidate","noValidate","liveValidate","omitExtraData","liveOmit","retrievedSchema","fieldNames","schemaValidation","schemaValidationErrors","schemaValidationErrorSchema","extraErrors","onSubmit","currentTarget","persist","onError","status","formElement","UNSAFE_componentWillReceiveProps","inputFormData","edit","getCurrentErrors","currentErrors","getRegistry","renderErrors","showErrorList","submit","dispatchEvent","CustomEvent","cancelable","tagName","method","action","deprecatedAutocomplete","currentAutoComplete","enctype","acceptcharset","noHtml5Validate","_internalFormWrapper","as","FormTag","form","DefaultErrorList","withTheme","themeProps","forwardRef","directProps","utils","_utils"],"mappings":"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"}